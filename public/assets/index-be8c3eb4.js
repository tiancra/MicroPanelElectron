import{d as oe,a as b,u as l,s as D,o as n,c as r,b as m,t as x,e as v,_ as $,f as A,r as s,g as q,F as g,h as i,w as t,i as e,j as S,T as H,k as ne,n as le,l as O,m as se,v as ae,p as U,q as T,x as ce,y as V,z as _e,A as E}from"./index-74bc2de6.js";let re=oe("SettingStore",{state:()=>({foldMode:2,refresh:!1})});const C=re,de={key:0,class:"logo"},ue={name:"Logo"},ie=b({...ue,setup(y){let u=C();return(a,c)=>l(D).logoHidden==!1?(n(),r("div",de,[m("p",null,x(l(u).foldMode==2?l(D).title:""),1)])):v("",!0)}});const me=$(ie,[["__scopeId","data-v-f02bde5e"]]),pe={class:"menu-title"},fe={class:"menu-title"},he={class:"menu-title"},ge={name:"Menu"},ve=b({...ge,props:["menuList"],setup(y){let u=A();const a=c=>{u.push(c.index)};return(c,_)=>{const d=s("el-icon"),p=s("el-menu-item"),k=s("Menu"),w=s("el-sub-menu");return n(!0),r(g,null,q(y.menuList,o=>(n(),r(g,{key:o.path},[o.children?v("",!0):(n(),r(g,{key:0},[o.meta.hidden?v("",!0):(n(),i(p,{key:0,index:o.path,onClick:a,class:"menu-item"},{title:t(()=>[m("span",pe,x(o.meta.title),1)]),default:t(()=>[e(d,{class:"menu-icon"},{default:t(()=>[(n(),i(S(o.meta.icon)))]),_:2},1024)]),_:2},1032,["index"]))],64)),o.children&&o.children.length==1?(n(),r(g,{key:1},[o.children[0].meta.hidden?v("",!0):(n(),i(p,{key:0,index:o.children[0].path,onClick:a,class:"menu-item"},{title:t(()=>[m("span",fe,x(o.children[0].meta.title),1)]),default:t(()=>[e(d,{class:"menu-icon"},{default:t(()=>[(n(),i(S(o.children[0].meta.icon)))]),_:2},1024)]),_:2},1032,["index"]))],64)):v("",!0),o.children&&o.children.length>1?(n(),r(g,{key:2},[o.meta.hidden?v("",!0):(n(),i(w,{key:0,index:o.path,class:"sub-menu"},{title:t(()=>[e(d,{class:"menu-icon"},{default:t(()=>[(n(),i(S(o.meta.icon)))]),_:2},1024),m("span",he,x(o.meta.title),1)]),default:t(()=>[e(H,{name:"submenu-slide",mode:"out-in"},{default:t(()=>[e(k,{menuList:o.children},null,8,["menuList"])]),_:2},1024)]),_:2},1032,["index"]))],64)):v("",!0)],64))),128)}}});const ye=$(ve,[["__scopeId","data-v-6ec8e342"]]),ke={name:"Main"},xe=b({...ke,setup(y){let u=C();return ne(()=>u.refresh,()=>{const a=document.querySelector(".com");a&&(a.classList.remove("page-slide-enter-active"),le(()=>{a.classList.add("page-slide-enter-active")}))}),(a,c)=>{const _=s("router-view");return n(),i(_,null,{default:t(({Component:d,route:p})=>[e(H,{name:"page-slide"},{default:t(()=>[(n(),r("div",{class:"com",key:p.fullPath},[(n(),i(S(d)))]))]),_:2},1024)]),_:1})}}});const be=$(xe,[["__scopeId","data-v-f91dc655"]]),Se={style:{margin:"0px 2px"}},$e={name:"Breadcrumb"},we=b({...$e,setup(y){let u=O(),a=C();const c=()=>{if(a.foldMode>=2){a.foldMode=0;return}a.foldMode++};return(_,d)=>{const p=s("el-icon"),k=s("el-breadcrumb-item"),w=s("el-breadcrumb");return n(),r(g,null,[e(p,{style:{"margin-right":"10px"},onClick:c},{default:t(()=>[(n(),i(S(l(a).foldMode==2?"Expand":"Fold")))]),_:1}),e(w,{"separator-icon":"ArrowRight"},{default:t(()=>[(n(!0),r(g,null,q(l(u).matched,(o,L)=>se((n(),i(k,{key:L,to:o.path},{default:t(()=>[e(p,{style:{margin:"0px 2px"}},{default:t(()=>[(n(),i(S(o.meta.icon)))]),_:2},1024),m("span",Se,x(o.meta.title),1)]),_:2},1032,["to"])),[[ae,o.meta.title]])),128))]),_:1})],64)}}}),Ce=["src"],Me={class:"el-dropdown-link"},Le={name:"Setting"},Ne=b({...Le,setup(y){let u=A(),a=O(),c=C(),_=U(),d=T(!1);const p=()=>{c.refresh=!c.refresh},k=()=>{document.fullscreenElement?document.exitFullscreen():document.documentElement.requestFullscreen()},w=async()=>{await _.logOut(),u.push({path:"/login",query:{redirect:a.path}})},o=f=>{localStorage.setItem("TOKEN",String(f)),window.location.reload()},L=f=>{delete _.tokens[f],localStorage.setItem("HISTORY_TOKENS",JSON.stringify(_.tokens))},N=T("rgba(255, 69, 0, 0.68)"),j=T(["#ff4500","#ff8c00","#ffd700","#90ee90","#00ced1","#1e90ff","#c71585","rgba(255, 69, 0, 0.68)","rgb(255, 120, 0)","hsv(51, 100, 98)","hsva(120, 40, 94, 0.5)","hsl(181, 100%, 37%)","hsla(209, 100%, 56%, 0.73)","#c7158577"]),K=()=>{let f=document.documentElement;d.value?f.className="dark":f.className="",_e.emit("themeColor",f.className)},P=()=>{document.documentElement.style.setProperty("--el-color-primary",N.value)};return(f,M)=>{const I=s("el-button"),Q=s("el-color-picker"),z=s("el-form-item"),J=s("el-switch"),Y=s("el-form"),G=s("el-popover"),W=s("arrow-down"),F=s("el-icon"),B=s("el-dropdown-item"),X=s("Close"),Z=s("el-dropdown-menu"),ee=s("el-dropdown");return n(),r(g,null,[e(I,{type:"primary",size:"small",icon:"Refresh",circle:"",onClick:p}),e(I,{type:"primary",size:"small",icon:"FullScreen",circle:"",onClick:k}),e(G,{ref:"popoverRef",placement:"bottom",title:"主题设置",width:300,trigger:"click","popper-class":"theme-popover","close-on-click-outside":!0,"close-on-press-escape":!0},{reference:t(()=>[e(I,{size:"small",icon:"Setting",circle:""})]),default:t(()=>[e(Y,null,{default:t(()=>[e(z,{label:"主题颜色"},{default:t(()=>[e(Q,{onChange:P,modelValue:N.value,"onUpdate:modelValue":M[0]||(M[0]=h=>N.value=h),size:"small","show-alpha":"",predefine:j.value},null,8,["modelValue","predefine"])]),_:1}),e(z,{label:"暗黑模式"},{default:t(()=>[e(J,{onChange:K,modelValue:l(d),"onUpdate:modelValue":M[1]||(M[1]=h=>ce(d)?d.value=h:d=h),class:"mt-2",style:{"margin-left":"24px"},"inline-prompt":"","active-icon":"MoonNight","inactive-icon":"Sunny"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},512),m("img",{class:"avatar",src:l(_).avatar?l(_).avatar:`https://q1.qlogo.cn/g?b=qq&s=0&nk=${l(_).masterQQ}`},null,8,Ce),e(ee,null,{dropdown:t(()=>[e(Z,{style:{maxHeight:"200px"}},{default:t(()=>[e(B,{onClick:w},{default:t(()=>[V("退出登录")]),_:1}),(n(!0),r(g,null,q(Object.keys(l(_).tokens),(h,te)=>(n(),r("div",{key:te},[l(_).tokens&&h!==l(_).token?(n(),i(B,{key:0,onClick:R=>o(h)},{default:t(()=>{var R;return[V(x((R=l(_).tokens[h])==null?void 0:R.username)+" ",1),e(F,{class:"el-icon-close",style:{"margin-left":"5px","align-self":"center"},onClick:De=>L(h)},{default:t(()=>[e(X)]),_:2},1032,["onClick"])]}),_:2},1032,["onClick"])):v("",!0)]))),128))]),_:1})]),default:t(()=>[m("span",Me,[V(x(l(_).username)+" ",1),e(F,{class:"el-icon--right"},{default:t(()=>[e(W)]),_:1})])]),_:1})],64)}}});const Ie=$(Ne,[["__scopeId","data-v-4cba9979"]]),Re={class:"tabbar"},Te={class:"tabbar_left"},Ve={class:"tabbar_right"},Ee={name:"Tabbar"},qe=b({...Ee,setup(y){return(u,a)=>(n(),r("div",Re,[m("div",Te,[e(we)]),m("div",Ve,[e(Ie)])]))}});const Oe=$(qe,[["__scopeId","data-v-d77f91a0"]]),ze={class:"layout_container"},Fe={name:"Layout"},Be=b({...Fe,setup(y){let u=O(),a=U(),c=C();return(_,d)=>{const p=s("el-menu"),k=s("el-scrollbar");return n(),r("div",ze,[m("div",{class:E(["layout_slider",{fold:l(c).foldMode==1,hidden:l(c).foldMode==0}])},[e(me),e(k,{class:"scrollbar"},{default:t(()=>[e(p,{collapse:l(c).foldMode==1,"default-active":l(u).path,"active-text-color":"rgb(64, 158, 255)"},{default:t(()=>[e(ye,{menuList:l(a).menuRoutes},null,8,["menuList"])]),_:1},8,["collapse","default-active"])]),_:1})],2),m("div",{class:E(["layout_tabbar",{fold:l(c).foldMode==1,hidden:l(c).foldMode==0}])},[e(Oe)],2),m("div",{class:E(["layout_main",{fold:l(c).foldMode==1,hidden:l(c).foldMode==0}])},[e(be)],2)])}}});const He=$(Be,[["__scopeId","data-v-dcd87735"]]);export{He as default};

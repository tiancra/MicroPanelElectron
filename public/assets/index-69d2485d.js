import{a as Vt,b as al,c as sl,d as rl,e as ul,f as il,g as dl}from"./index-d89f8160.js";import{u as it}from"./dev-ddb4a4ca.js";import{a as W,q as L,a7 as j,m as dt,v as ct,o as g,c as $,K,_ as te,ai as cl,d as pl,b as x,e as N,k as xe,L as pt,y as V,t as ne,A as be,r as w,i as o,w as s,F as B,g as Y,u as S,aj as $t,h as q,j as Ke,ak as ke,B as me,ae as ve,al as fl,am as ye,C as Ee,an as lt,ao as ml,n as Rt,ap as vl,aq as Ht,ar as ft,J as Ze,as as gl,at as hl,au as _l,av as bl,ad as Lt,aw as yl,z as ge,ax as wl,ay as xl,az as kl,aA as Cl,aB as Vl,aC as $l,aD as Sl,aE as Ml,aF as zl,aG as Ul,ag as ae}from"./index-1781b57c.js";import{E as Dt}from"./codeEditor-feb6c6a6.js";import{_ as El}from"./index.vue_vue_type_script_setup_true_lang-773d6343.js";import{f as Il}from"./data-10fa9501.js";import{a as Rl}from"./time-194208a7.js";const Hl=W({__name:"Area",emits:["move","up"],setup(e,{expose:t,emit:n}){const l=n,a=L(!1),r=L({width:0,height:0,top:0,left:0}),u=j(()=>{const{width:c,height:p,top:f,left:v}=r.value;return{width:c+"px",height:p+"px",top:f+"px",left:v+"px"}});function i(c){const{pageX:p,pageY:f}=c,v=c.target.getBoundingClientRect(),m=p-v.left,d=f-v.top,h=U=>{const _=U.pageX-p,y=U.pageY-f;let R=m,H=d,A=Math.abs(_),P=Math.abs(y);(A>2||P>2)&&(a.value=!0),_<0&&(R=m-A),y<0&&(H=d-P),r.value={width:A,height:P,left:R,top:H},l("move",{...r.value})},k=()=>{document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",k),a.value=!1,r.value={width:0,height:0,top:0,left:0},l("up",r.value)};document.addEventListener("mousemove",h),document.addEventListener("mouseup",k)}return t({onMouseDown:i,areaData:r}),(c,p)=>dt((g(),$("div",{class:"es-editor-area",style:K(u.value)},null,4)),[[ct,a.value]])}}),Ll=te(Hl,[["__scopeId","data-v-f8facc6a"]]);var Ft={exports:{}},Tt={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},qt={exports:{}},Dl=function(t){return!t||typeof t=="string"?!1:t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&t.constructor.name!=="String")},Fl=Dl,Tl=Array.prototype.concat,ql=Array.prototype.slice,St=qt.exports=function(t){for(var n=[],l=0,a=t.length;l<a;l++){var r=t[l];Fl(r)?n=Tl.call(n,ql.call(r)):n.push(r)}return n};St.wrap=function(e){return function(){return e(St(arguments))}};var Bl=qt.exports,Re=Tt,Le=Bl,Bt=Object.hasOwnProperty,At=Object.create(null);for(var nt in Re)Bt.call(Re,nt)&&(At[Re[nt]]=nt);var ue=Ft.exports={to:{},get:{}};ue.get=function(e){var t=e.substring(0,3).toLowerCase(),n,l;switch(t){case"hsl":n=ue.get.hsl(e),l="hsl";break;case"hwb":n=ue.get.hwb(e),l="hwb";break;default:n=ue.get.rgb(e),l="rgb";break}return n?{model:l,value:n}:null};ue.get.rgb=function(e){if(!e)return null;var t=/^#([a-f0-9]{3,4})$/i,n=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,l=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,a=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,r=/^(\w+)$/,u=[0,0,0,1],i,c,p;if(i=e.match(n)){for(p=i[2],i=i[1],c=0;c<3;c++){var f=c*2;u[c]=parseInt(i.slice(f,f+2),16)}p&&(u[3]=parseInt(p,16)/255)}else if(i=e.match(t)){for(i=i[1],p=i[3],c=0;c<3;c++)u[c]=parseInt(i[c]+i[c],16);p&&(u[3]=parseInt(p+p,16)/255)}else if(i=e.match(l)){for(c=0;c<3;c++)u[c]=parseInt(i[c+1],0);i[4]&&(i[5]?u[3]=parseFloat(i[4])*.01:u[3]=parseFloat(i[4]))}else if(i=e.match(a)){for(c=0;c<3;c++)u[c]=Math.round(parseFloat(i[c+1])*2.55);i[4]&&(i[5]?u[3]=parseFloat(i[4])*.01:u[3]=parseFloat(i[4]))}else return(i=e.match(r))?i[1]==="transparent"?[0,0,0,0]:Bt.call(Re,i[1])?(u=Re[i[1]],u[3]=1,u):null:null;for(c=0;c<3;c++)u[c]=we(u[c],0,255);return u[3]=we(u[3],0,1),u};ue.get.hsl=function(e){if(!e)return null;var t=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,n=e.match(t);if(n){var l=parseFloat(n[4]),a=(parseFloat(n[1])%360+360)%360,r=we(parseFloat(n[2]),0,100),u=we(parseFloat(n[3]),0,100),i=we(isNaN(l)?1:l,0,1);return[a,r,u,i]}return null};ue.get.hwb=function(e){if(!e)return null;var t=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,n=e.match(t);if(n){var l=parseFloat(n[4]),a=(parseFloat(n[1])%360+360)%360,r=we(parseFloat(n[2]),0,100),u=we(parseFloat(n[3]),0,100),i=we(isNaN(l)?1:l,0,1);return[a,r,u,i]}return null};ue.to.hex=function(){var e=Le(arguments);return"#"+Ae(e[0])+Ae(e[1])+Ae(e[2])+(e[3]<1?Ae(Math.round(e[3]*255)):"")};ue.to.rgb=function(){var e=Le(arguments);return e.length<4||e[3]===1?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"};ue.to.rgb.percent=function(){var e=Le(arguments),t=Math.round(e[0]/255*100),n=Math.round(e[1]/255*100),l=Math.round(e[2]/255*100);return e.length<4||e[3]===1?"rgb("+t+"%, "+n+"%, "+l+"%)":"rgba("+t+"%, "+n+"%, "+l+"%, "+e[3]+")"};ue.to.hsl=function(){var e=Le(arguments);return e.length<4||e[3]===1?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"};ue.to.hwb=function(){var e=Le(arguments),t="";return e.length>=4&&e[3]!==1&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"};ue.to.keyword=function(e){return At[e.slice(0,3)]};function we(e,t,n){return Math.min(Math.max(t,e),n)}function Ae(e){var t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}var Al=Ft.exports;const He=Tt,Pt={};for(const e of Object.keys(He))Pt[He[e]]=e;const D={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var Ot=D;for(const e of Object.keys(D)){if(!("channels"in D[e]))throw new Error("missing channels property: "+e);if(!("labels"in D[e]))throw new Error("missing channel labels property: "+e);if(D[e].labels.length!==D[e].channels)throw new Error("channel and label counts mismatch: "+e);const{channels:t,labels:n}=D[e];delete D[e].channels,delete D[e].labels,Object.defineProperty(D[e],"channels",{value:t}),Object.defineProperty(D[e],"labels",{value:n})}D.rgb.hsl=function(e){const t=e[0]/255,n=e[1]/255,l=e[2]/255,a=Math.min(t,n,l),r=Math.max(t,n,l),u=r-a;let i,c;r===a?i=0:t===r?i=(n-l)/u:n===r?i=2+(l-t)/u:l===r&&(i=4+(t-n)/u),i=Math.min(i*60,360),i<0&&(i+=360);const p=(a+r)/2;return r===a?c=0:p<=.5?c=u/(r+a):c=u/(2-r-a),[i,c*100,p*100]};D.rgb.hsv=function(e){let t,n,l,a,r;const u=e[0]/255,i=e[1]/255,c=e[2]/255,p=Math.max(u,i,c),f=p-Math.min(u,i,c),v=function(m){return(p-m)/6/f+1/2};return f===0?(a=0,r=0):(r=f/p,t=v(u),n=v(i),l=v(c),u===p?a=l-n:i===p?a=1/3+t-l:c===p&&(a=2/3+n-t),a<0?a+=1:a>1&&(a-=1)),[a*360,r*100,p*100]};D.rgb.hwb=function(e){const t=e[0],n=e[1];let l=e[2];const a=D.rgb.hsl(e)[0],r=1/255*Math.min(t,Math.min(n,l));return l=1-1/255*Math.max(t,Math.max(n,l)),[a,r*100,l*100]};D.rgb.cmyk=function(e){const t=e[0]/255,n=e[1]/255,l=e[2]/255,a=Math.min(1-t,1-n,1-l),r=(1-t-a)/(1-a)||0,u=(1-n-a)/(1-a)||0,i=(1-l-a)/(1-a)||0;return[r*100,u*100,i*100,a*100]};function Pl(e,t){return(e[0]-t[0])**2+(e[1]-t[1])**2+(e[2]-t[2])**2}D.rgb.keyword=function(e){const t=Pt[e];if(t)return t;let n=1/0,l;for(const a of Object.keys(He)){const r=He[a],u=Pl(e,r);u<n&&(n=u,l=a)}return l};D.keyword.rgb=function(e){return He[e]};D.rgb.xyz=function(e){let t=e[0]/255,n=e[1]/255,l=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,l=l>.04045?((l+.055)/1.055)**2.4:l/12.92;const a=t*.4124+n*.3576+l*.1805,r=t*.2126+n*.7152+l*.0722,u=t*.0193+n*.1192+l*.9505;return[a*100,r*100,u*100]};D.rgb.lab=function(e){const t=D.rgb.xyz(e);let n=t[0],l=t[1],a=t[2];n/=95.047,l/=100,a/=108.883,n=n>.008856?n**(1/3):7.787*n+16/116,l=l>.008856?l**(1/3):7.787*l+16/116,a=a>.008856?a**(1/3):7.787*a+16/116;const r=116*l-16,u=500*(n-l),i=200*(l-a);return[r,u,i]};D.hsl.rgb=function(e){const t=e[0]/360,n=e[1]/100,l=e[2]/100;let a,r,u;if(n===0)return u=l*255,[u,u,u];l<.5?a=l*(1+n):a=l+n-l*n;const i=2*l-a,c=[0,0,0];for(let p=0;p<3;p++)r=t+1/3*-(p-1),r<0&&r++,r>1&&r--,6*r<1?u=i+(a-i)*6*r:2*r<1?u=a:3*r<2?u=i+(a-i)*(2/3-r)*6:u=i,c[p]=u*255;return c};D.hsl.hsv=function(e){const t=e[0];let n=e[1]/100,l=e[2]/100,a=n;const r=Math.max(l,.01);l*=2,n*=l<=1?l:2-l,a*=r<=1?r:2-r;const u=(l+n)/2,i=l===0?2*a/(r+a):2*n/(l+n);return[t,i*100,u*100]};D.hsv.rgb=function(e){const t=e[0]/60,n=e[1]/100;let l=e[2]/100;const a=Math.floor(t)%6,r=t-Math.floor(t),u=255*l*(1-n),i=255*l*(1-n*r),c=255*l*(1-n*(1-r));switch(l*=255,a){case 0:return[l,c,u];case 1:return[i,l,u];case 2:return[u,l,c];case 3:return[u,i,l];case 4:return[c,u,l];case 5:return[l,u,i]}};D.hsv.hsl=function(e){const t=e[0],n=e[1]/100,l=e[2]/100,a=Math.max(l,.01);let r,u;u=(2-n)*l;const i=(2-n)*a;return r=n*a,r/=i<=1?i:2-i,r=r||0,u/=2,[t,r*100,u*100]};D.hwb.rgb=function(e){const t=e[0]/360;let n=e[1]/100,l=e[2]/100;const a=n+l;let r;a>1&&(n/=a,l/=a);const u=Math.floor(6*t),i=1-l;r=6*t-u,u&1&&(r=1-r);const c=n+r*(i-n);let p,f,v;switch(u){default:case 6:case 0:p=i,f=c,v=n;break;case 1:p=c,f=i,v=n;break;case 2:p=n,f=i,v=c;break;case 3:p=n,f=c,v=i;break;case 4:p=c,f=n,v=i;break;case 5:p=i,f=n,v=c;break}return[p*255,f*255,v*255]};D.cmyk.rgb=function(e){const t=e[0]/100,n=e[1]/100,l=e[2]/100,a=e[3]/100,r=1-Math.min(1,t*(1-a)+a),u=1-Math.min(1,n*(1-a)+a),i=1-Math.min(1,l*(1-a)+a);return[r*255,u*255,i*255]};D.xyz.rgb=function(e){const t=e[0]/100,n=e[1]/100,l=e[2]/100;let a,r,u;return a=t*3.2406+n*-1.5372+l*-.4986,r=t*-.9689+n*1.8758+l*.0415,u=t*.0557+n*-.204+l*1.057,a=a>.0031308?1.055*a**(1/2.4)-.055:a*12.92,r=r>.0031308?1.055*r**(1/2.4)-.055:r*12.92,u=u>.0031308?1.055*u**(1/2.4)-.055:u*12.92,a=Math.min(Math.max(0,a),1),r=Math.min(Math.max(0,r),1),u=Math.min(Math.max(0,u),1),[a*255,r*255,u*255]};D.xyz.lab=function(e){let t=e[0],n=e[1],l=e[2];t/=95.047,n/=100,l/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,l=l>.008856?l**(1/3):7.787*l+16/116;const a=116*n-16,r=500*(t-n),u=200*(n-l);return[a,r,u]};D.lab.xyz=function(e){const t=e[0],n=e[1],l=e[2];let a,r,u;r=(t+16)/116,a=n/500+r,u=r-l/200;const i=r**3,c=a**3,p=u**3;return r=i>.008856?i:(r-16/116)/7.787,a=c>.008856?c:(a-16/116)/7.787,u=p>.008856?p:(u-16/116)/7.787,a*=95.047,r*=100,u*=108.883,[a,r,u]};D.lab.lch=function(e){const t=e[0],n=e[1],l=e[2];let a;a=Math.atan2(l,n)*360/2/Math.PI,a<0&&(a+=360);const u=Math.sqrt(n*n+l*l);return[t,u,a]};D.lch.lab=function(e){const t=e[0],n=e[1],a=e[2]/360*2*Math.PI,r=n*Math.cos(a),u=n*Math.sin(a);return[t,r,u]};D.rgb.ansi16=function(e,t=null){const[n,l,a]=e;let r=t===null?D.rgb.hsv(e)[2]:t;if(r=Math.round(r/50),r===0)return 30;let u=30+(Math.round(a/255)<<2|Math.round(l/255)<<1|Math.round(n/255));return r===2&&(u+=60),u};D.hsv.ansi16=function(e){return D.rgb.ansi16(D.hsv.rgb(e),e[2])};D.rgb.ansi256=function(e){const t=e[0],n=e[1],l=e[2];return t===n&&n===l?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(l/255*5)};D.ansi16.rgb=function(e){let t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const n=(~~(e>50)+1)*.5,l=(t&1)*n*255,a=(t>>1&1)*n*255,r=(t>>2&1)*n*255;return[l,a,r]};D.ansi256.rgb=function(e){if(e>=232){const r=(e-232)*10+8;return[r,r,r]}e-=16;let t;const n=Math.floor(e/36)/5*255,l=Math.floor((t=e%36)/6)/5*255,a=t%6/5*255;return[n,l,a]};D.rgb.hex=function(e){const n=(((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255)).toString(16).toUpperCase();return"000000".substring(n.length)+n};D.hex.rgb=function(e){const t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let n=t[0];t[0].length===3&&(n=n.split("").map(i=>i+i).join(""));const l=parseInt(n,16),a=l>>16&255,r=l>>8&255,u=l&255;return[a,r,u]};D.rgb.hcg=function(e){const t=e[0]/255,n=e[1]/255,l=e[2]/255,a=Math.max(Math.max(t,n),l),r=Math.min(Math.min(t,n),l),u=a-r;let i,c;return u<1?i=r/(1-u):i=0,u<=0?c=0:a===t?c=(n-l)/u%6:a===n?c=2+(l-t)/u:c=4+(t-n)/u,c/=6,c%=1,[c*360,u*100,i*100]};D.hsl.hcg=function(e){const t=e[1]/100,n=e[2]/100,l=n<.5?2*t*n:2*t*(1-n);let a=0;return l<1&&(a=(n-.5*l)/(1-l)),[e[0],l*100,a*100]};D.hsv.hcg=function(e){const t=e[1]/100,n=e[2]/100,l=t*n;let a=0;return l<1&&(a=(n-l)/(1-l)),[e[0],l*100,a*100]};D.hcg.rgb=function(e){const t=e[0]/360,n=e[1]/100,l=e[2]/100;if(n===0)return[l*255,l*255,l*255];const a=[0,0,0],r=t%1*6,u=r%1,i=1-u;let c=0;switch(Math.floor(r)){case 0:a[0]=1,a[1]=u,a[2]=0;break;case 1:a[0]=i,a[1]=1,a[2]=0;break;case 2:a[0]=0,a[1]=1,a[2]=u;break;case 3:a[0]=0,a[1]=i,a[2]=1;break;case 4:a[0]=u,a[1]=0,a[2]=1;break;default:a[0]=1,a[1]=0,a[2]=i}return c=(1-n)*l,[(n*a[0]+c)*255,(n*a[1]+c)*255,(n*a[2]+c)*255]};D.hcg.hsv=function(e){const t=e[1]/100,n=e[2]/100,l=t+n*(1-t);let a=0;return l>0&&(a=t/l),[e[0],a*100,l*100]};D.hcg.hsl=function(e){const t=e[1]/100,l=e[2]/100*(1-t)+.5*t;let a=0;return l>0&&l<.5?a=t/(2*l):l>=.5&&l<1&&(a=t/(2*(1-l))),[e[0],a*100,l*100]};D.hcg.hwb=function(e){const t=e[1]/100,n=e[2]/100,l=t+n*(1-t);return[e[0],(l-t)*100,(1-l)*100]};D.hwb.hcg=function(e){const t=e[1]/100,l=1-e[2]/100,a=l-t;let r=0;return a<1&&(r=(l-a)/(1-a)),[e[0],a*100,r*100]};D.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};D.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};D.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};D.gray.hsl=function(e){return[0,0,e[0]]};D.gray.hsv=D.gray.hsl;D.gray.hwb=function(e){return[0,100,e[0]]};D.gray.cmyk=function(e){return[0,0,0,e[0]]};D.gray.lab=function(e){return[e[0],0,0]};D.gray.hex=function(e){const t=Math.round(e[0]/100*255)&255,l=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(l.length)+l};D.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]};const Je=Ot;function Ol(){const e={},t=Object.keys(Je);for(let n=t.length,l=0;l<n;l++)e[t[l]]={distance:-1,parent:null};return e}function jl(e){const t=Ol(),n=[e];for(t[e].distance=0;n.length;){const l=n.pop(),a=Object.keys(Je[l]);for(let r=a.length,u=0;u<r;u++){const i=a[u],c=t[i];c.distance===-1&&(c.distance=t[l].distance+1,c.parent=l,n.unshift(i))}}return t}function Nl(e,t){return function(n){return t(e(n))}}function Gl(e,t){const n=[t[e].parent,e];let l=Je[t[e].parent][e],a=t[e].parent;for(;t[a].parent;)n.unshift(t[a].parent),l=Nl(Je[t[a].parent][a],l),a=t[a].parent;return l.conversion=n,l}var Yl=function(e){const t=jl(e),n={},l=Object.keys(t);for(let a=l.length,r=0;r<a;r++){const u=l[r];t[u].parent!==null&&(n[u]=Gl(u,t))}return n};const st=Ot,Wl=Yl,Me={},Jl=Object.keys(st);function Ql(e){const t=function(...n){const l=n[0];return l==null?l:(l.length>1&&(n=l),e(n))};return"conversion"in e&&(t.conversion=e.conversion),t}function Xl(e){const t=function(...n){const l=n[0];if(l==null)return l;l.length>1&&(n=l);const a=e(n);if(typeof a=="object")for(let r=a.length,u=0;u<r;u++)a[u]=Math.round(a[u]);return a};return"conversion"in e&&(t.conversion=e.conversion),t}Jl.forEach(e=>{Me[e]={},Object.defineProperty(Me[e],"channels",{value:st[e].channels}),Object.defineProperty(Me[e],"labels",{value:st[e].labels});const t=Wl(e);Object.keys(t).forEach(l=>{const a=t[l];Me[e][l]=Xl(a),Me[e][l].raw=Ql(a)})});var Kl=Me;const ze=Al,re=Kl,jt=["keyword","gray","hex"],rt={};for(const e of Object.keys(re))rt[[...re[e].labels].sort().join("")]=e;const Qe={};function oe(e,t){if(!(this instanceof oe))return new oe(e,t);if(t&&t in jt&&(t=null),t&&!(t in re))throw new Error("Unknown model: "+t);let n,l;if(e==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof oe)this.model=e.model,this.color=[...e.color],this.valpha=e.valpha;else if(typeof e=="string"){const a=ze.get(e);if(a===null)throw new Error("Unable to parse color from string: "+e);this.model=a.model,l=re[this.model].channels,this.color=a.value.slice(0,l),this.valpha=typeof a.value[l]=="number"?a.value[l]:1}else if(e.length>0){this.model=t||"rgb",l=re[this.model].channels;const a=Array.prototype.slice.call(e,0,l);this.color=ut(a,l),this.valpha=typeof e[l]=="number"?e[l]:1}else if(typeof e=="number")this.model="rgb",this.color=[e>>16&255,e>>8&255,e&255],this.valpha=1;else{this.valpha=1;const a=Object.keys(e);"alpha"in e&&(a.splice(a.indexOf("alpha"),1),this.valpha=typeof e.alpha=="number"?e.alpha:0);const r=a.sort().join("");if(!(r in rt))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=rt[r];const{labels:u}=re[this.model],i=[];for(n=0;n<u.length;n++)i.push(e[u[n]]);this.color=ut(i)}if(Qe[this.model])for(l=re[this.model].channels,n=0;n<l;n++){const a=Qe[this.model][n];a&&(this.color[n]=a(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}oe.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(e){let t=this.model in ze.to?this:this.rgb();t=t.round(typeof e=="number"?e:1);const n=t.valpha===1?t.color:[...t.color,this.valpha];return ze.to[t.model](n)},percentString(e){const t=this.rgb().round(typeof e=="number"?e:1),n=t.valpha===1?t.color:[...t.color,this.valpha];return ze.to.rgb.percent(n)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){const e={},{channels:t}=re[this.model],{labels:n}=re[this.model];for(let l=0;l<t;l++)e[n[l]]=this.color[l];return this.valpha!==1&&(e.alpha=this.valpha),e},unitArray(){const e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,this.valpha!==1&&e.push(this.valpha),e},unitObject(){const e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,this.valpha!==1&&(e.alpha=this.valpha),e},round(e){return e=Math.max(e||0,0),new oe([...this.color.map(en(e)),this.valpha],this.model)},alpha(e){return e!==void 0?new oe([...this.color,Math.max(0,Math.min(1,e))],this.model):this.valpha},red:X("rgb",0,le(255)),green:X("rgb",1,le(255)),blue:X("rgb",2,le(255)),hue:X(["hsl","hsv","hsl","hwb","hcg"],0,e=>(e%360+360)%360),saturationl:X("hsl",1,le(100)),lightness:X("hsl",2,le(100)),saturationv:X("hsv",1,le(100)),value:X("hsv",2,le(100)),chroma:X("hcg",1,le(100)),gray:X("hcg",2,le(100)),white:X("hwb",1,le(100)),wblack:X("hwb",2,le(100)),cyan:X("cmyk",0,le(100)),magenta:X("cmyk",1,le(100)),yellow:X("cmyk",2,le(100)),black:X("cmyk",3,le(100)),x:X("xyz",0,le(95.047)),y:X("xyz",1,le(100)),z:X("xyz",2,le(108.833)),l:X("lab",0,le(100)),a:X("lab",1),b:X("lab",2),keyword(e){return e!==void 0?new oe(e):re[this.model].keyword(this.color)},hex(e){return e!==void 0?new oe(e):ze.to.hex(this.rgb().round().color)},hexa(e){if(e!==void 0)return new oe(e);const t=this.rgb().round().color;let n=Math.round(this.valpha*255).toString(16).toUpperCase();return n.length===1&&(n="0"+n),ze.to.hex(t)+n},rgbNumber(){const e=this.rgb().color;return(e[0]&255)<<16|(e[1]&255)<<8|e[2]&255},luminosity(){const e=this.rgb().color,t=[];for(const[n,l]of e.entries()){const a=l/255;t[n]=a<=.04045?a/12.92:((a+.055)/1.055)**2.4}return .2126*t[0]+.7152*t[1]+.0722*t[2]},contrast(e){const t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level(e){const t=this.contrast(e);return t>=7?"AAA":t>=4.5?"AA":""},isDark(){const e=this.rgb().color;return(e[0]*2126+e[1]*7152+e[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){const e=this.rgb();for(let t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten(e){const t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken(e){const t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate(e){const t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate(e){const t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten(e){const t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken(e){const t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale(){const e=this.rgb().color,t=e[0]*.3+e[1]*.59+e[2]*.11;return oe.rgb(t,t,t)},fade(e){return this.alpha(this.valpha-this.valpha*e)},opaquer(e){return this.alpha(this.valpha+this.valpha*e)},rotate(e){const t=this.hsl();let n=t.color[0];return n=(n+e)%360,n=n<0?360+n:n,t.color[0]=n,t},mix(e,t){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);const n=e.rgb(),l=this.rgb(),a=t===void 0?.5:t,r=2*a-1,u=n.alpha()-l.alpha(),i=((r*u===-1?r:(r+u)/(1+r*u))+1)/2,c=1-i;return oe.rgb(i*n.red()+c*l.red(),i*n.green()+c*l.green(),i*n.blue()+c*l.blue(),n.alpha()*a+l.alpha()*(1-a))}};for(const e of Object.keys(re)){if(jt.includes(e))continue;const{channels:t}=re[e];oe.prototype[e]=function(...n){return this.model===e?new oe(this):n.length>0?new oe(n,e):new oe([...tn(re[this.model][e].raw(this.color)),this.valpha],e)},oe[e]=function(...n){let l=n[0];return typeof l=="number"&&(l=ut(n,t)),new oe(l,e)}}function Zl(e,t){return Number(e.toFixed(t))}function en(e){return function(t){return Zl(t,e)}}function X(e,t,n){e=Array.isArray(e)?e:[e];for(const l of e)(Qe[l]||(Qe[l]=[]))[t]=n;return e=e[0],function(l){let a;return l!==void 0?(n&&(l=n(l)),a=this[e](),a.color[t]=l,a):(a=this[e]().color[t],n&&(a=n(a)),a)}}function le(e){return function(t){return Math.max(0,Math.min(e,t))}}function tn(e){return Array.isArray(e)?e:[e]}function ut(e,t){for(let n=0;n<t;n++)typeof e[n]!="number"&&(e[n]=0);return e}var ln=oe;const Nt=cl(ln);let nn=1;function Ve(e="es-drager"){return`${e}-${Date.now()}-${nn++}`}function Ie(e){return JSON.parse(JSON.stringify(e))}function on(e,t){const n=e.filter(v=>v.selected);if(!n.length)return e;let l=1/0,a=1/0,r=-1/0,u=-1/0;Math.max(...n.map(v=>v.left)),n.forEach(v=>{const m=document.getElementById(v.id).getBoundingClientRect();l=Math.min(l,m.left-t.left),r=Math.max(r,m.right-t.left),a=Math.min(a,m.top-t.top),u=Math.max(u,m.bottom-t.top)});const i={left:l,top:a,width:r-l,height:u-a};let c=!1;n.forEach(v=>{v.left=v.left-l,v.top=v.top-a,v.groupStyle={...v.style,width:Pe(v.width/i.width),height:Pe(v.height/i.height),left:Pe(v.left/i.width),top:Pe(v.top/i.height),transform:`rotate(${v.angle||0}deg)`,position:"absolute"},v.angle&&(c=!0)});const p={id:Ve(),component:"es-group",group:!0,selected:!0,...i,equalProportion:c,props:{elements:n}};return[...e.filter(v=>!v.selected),p]}function an(e,t){const n=e.find(u=>u.selected);if(!n||n.component!=="es-group")return e;const a=n.props.elements.map(u=>{const i=document.getElementById(u.id).getBoundingClientRect(),c={x:i.left-t.left+i.width/2,y:i.top-t.top+i.height/2},p=u.groupStyle,f=n.width*Mt(p.width),v=n.height*Mt(p.height),m={width:f,height:v,left:c.x-f/2,top:c.y-v/2,angle:(u.angle||0)+(n.angle||0)};return u.groupStyle={},{...u,...m}});return[...e.filter(u=>u!==n),...a]}function Pe(e){return e*100+"%"}function Mt(e){return parseFloat(e)/100}function sn(e){return`${e}`.match(/^[0-9.-]+(px|%|rem|em|vh|vw)$/)?e:e+"px"}const rn=["fontSize","lineHeight","borderWidth","borderRadius"],zt=["fontSize","fontWeight","fontFamily","color","lineHeight","fontStyle","textDecoration","justifyContent","alignItems"];function Xe(e,t=!0){if(!e)return e;const n={},l=Object.keys(e).filter(a=>t?zt.includes(a):!zt.includes(a));for(const a of l)n[a]=rn.includes(a)?sn(e[a]):e[a];return n}function un(e,t){return Object.keys(e).reduce((n,l)=>(t.includes(l)||(n[l]=e[l]),n),{})}const Ut={container:{markline:{show:!0,color:""},snapToGrid:!0,snap:!0,gridSize:10,gridColor:"",style:{},scaleRatio:1},elements:[]},ie=pl("editor",{state:()=>({data:Ut,current:{style:{borderWidth:0,borderRadius:0,borderColor:"gray"}},preview:!1,initWidth:1180,initHeight:960,theme:localStorage.getItem("theme")||"light"}),actions:{update(e){e!=null&&e.container||(e.container={...Ut.container}),this.data=e||{}}}}),dn={width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg"},cn=["id","width","height"],pn=["d","stroke"],fn=["id","width","height"],mn=["width","height","fill"],vn=["d","stroke"],gn=["fill"],hn=W({__name:"GridRect",props:{grid:{type:Number,default:10},gridCount:{type:Number,default:5},showSmall:{type:Boolean,default:!0},borderColor:{type:String},smallGridId:String,gridId:String},setup(e){const t=ie(),n=e,l=j(()=>n.smallGridId||Ve("smallGrid")),a=j(()=>n.gridId||Ve("grid")),r=j(()=>n.grid*n.gridCount),u=j(()=>{if(n.borderColor)return{bigGrid:n.borderColor,grid:Nt(n.borderColor).fade(.5).rgb().string()};const c=[["#e4e7ed","#ebeef5"],["#414243","#363637"]],[p,f]=c[t.theme==="light"?0:1];return{bigGrid:p,grid:f}}),i=j(()=>({"--border-color":u.value.bigGrid}));return(c,p)=>(g(),$("div",{class:"grid-rect",style:K(i.value)},[(g(),$("svg",dn,[x("defs",null,[e.showSmall?(g(),$("pattern",{key:0,id:l.value,width:e.grid,height:e.grid,patternUnits:"userSpaceOnUse"},[x("path",{d:`M ${e.grid} 0 L 0 0 0 ${e.grid}`,fill:"none",stroke:u.value.grid,"stroke-width":"0.5"},null,8,pn)],8,cn)):N("",!0),x("pattern",{id:a.value,width:r.value,height:r.value,patternUnits:"userSpaceOnUse"},[e.showSmall?(g(),$("rect",{key:0,width:r.value,height:r.value,fill:`url(#${l.value})`},null,8,mn)):N("",!0),x("path",{d:`M ${r.value} 0 L 0 0 0 ${r.value}`,fill:"none",stroke:u.value.bigGrid,"stroke-width":"1"},null,8,vn)],8,fn)]),x("rect",{width:"100%",height:"100%",fill:`url(#${a.value})`},null,8,gn)]))],4))}}),_n=te(hn,[["__scopeId","data-v-ce09f61b"]]),bn=["contenteditable"],yn=W({__name:"TextEditor",props:{editable:{type:Boolean,default:!1},text:{type:String},id:{type:Number,default:0}},setup(e){const t=ie(),n=e,l=L();function a(){if(!l.value)return;const u=document.createRange();u.selectNode(l.value),window.getSelection().removeAllRanges(),window.getSelection().addRange(u)}function r(u){t.data.elements[n.id].text=u.target.innerText}return xe(()=>[n.editable],()=>{n.editable&&(a(),t.data.elements[n.id].style.display="flex")}),(u,i)=>(g(),$("div",{ref_key:"textRef",ref:l,class:be(["es-text",{editable:e.editable}]),contenteditable:e.editable,style:{display:"flex",width:"100%",height:"100%","word-break":"break-all"},onBlur:r},[pt(u.$slots,"default",{},()=>[V(ne(e.text),1)],!0)],42,bn))}}),Gt=te(yn,[["__scopeId","data-v-c5c16f93"]]),wn='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M938.666667 553.92V768c0 64.8-52.533333 117.333333-117.333334 117.333333H202.666667c-64.8 0-117.333333-52.533333-117.333334-117.333333V256c0-64.8 52.533333-117.333333 117.333334-117.333333h618.666666c64.8 0 117.333333 52.533333 117.333334 117.333333v297.92z m-64-74.624V256a53.333333 53.333333 0 0 0-53.333334-53.333333H202.666667a53.333333 53.333333 0 0 0-53.333334 53.333333v344.48A290.090667 290.090667 0 0 1 192 597.333333a286.88 286.88 0 0 1 183.296 65.845334C427.029333 528.384 556.906667 437.333333 704 437.333333c65.706667 0 126.997333 16.778667 170.666667 41.962667z m0 82.24c-5.333333-8.32-21.130667-21.653333-43.648-32.917333C796.768 511.488 753.045333 501.333333 704 501.333333c-121.770667 0-229.130667 76.266667-270.432 188.693334-2.730667 7.445333-7.402667 20.32-13.994667 38.581333-7.68 21.301333-34.453333 28.106667-51.370666 13.056-16.437333-14.634667-28.554667-25.066667-36.138667-31.146667A222.890667 222.890667 0 0 0 192 661.333333c-14.464 0-28.725333 1.365333-42.666667 4.053334V768a53.333333 53.333333 0 0 0 53.333334 53.333333h618.666666a53.333333 53.333333 0 0 0 53.333334-53.333333V561.525333zM320 480a96 96 0 1 1 0-192 96 96 0 0 1 0 192z m0-64a32 32 0 1 0 0-64 32 32 0 0 0 0 64z"></path></svg>',xn='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M896 896H96a32 32 0 0 1-32-32V224a32 32 0 0 1 64 0v608h768a32 32 0 1 1 0 64z"></path><path fill="currentColor" d="M247.008 640a32 32 0 0 1-20.992-56.192l200.992-174.24a32 32 0 0 1 42.272 0.288l172.128 153.44 229.088-246.304a32 32 0 0 1 46.88 43.616l-250.432 269.216a31.936 31.936 0 0 1-44.704 2.08l-174.56-155.52-179.744 155.84a31.872 31.872 0 0 1-20.928 7.776z"></path></svg>',kn='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M512 928C282.624 928 96 741.376 96 512S282.624 96 512 96s416 186.624 416 416-186.624 416-416 416z m0-768C317.92 160 160 317.92 160 512s157.92 352 352 352 352-157.92 352-352S706.08 160 512 160z"></path></svg>',Cn='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M821.816 328.808H203.12c-49.072 0-88.192 33.656-88.192 74.6V701.52c0 41.504 39.792 74.6 88.192 74.6h618.688c49.072 0 88.184-33.656 88.184-74.6V403.408c0.008-40.944-39.784-74.6-88.176-74.6z m-1.96 423.496H203.76c-68.36 0-61.888-59.064-61.888-133.152v-131.68c0-73.096-6.472-133.16 61.888-133.16h616.104c68.328 0 61.88 60.064 61.88 133.16v131.688c0 73.064 6.44 133.144-61.888 133.144z"></path><path fill="currentColor" d="M693.784 460.728H329.816c-40.384 0-36.56 27.696-36.56 61.384v60.72c0 34.144-3.824 61.376 36.56 61.376h363.968c40.384 0 36.576-27.688 36.576-61.376v-60.72c0-33.688 3.808-61.384-36.576-61.384z"></path></svg>',Vn='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M853.333333 138.666667H170.666667c-17.066667 0-32 14.933333-32 32v128c0 17.066667 14.933333 32 32 32s32-14.933333 32-32V202.666667h277.333333v618.666666H384c-17.066667 0-32 14.933333-32 32s14.933333 32 32 32h256c17.066667 0 32-14.933333 32-32s-14.933333-32-32-32h-96v-618.666666h277.333333V298.666667c0 17.066667 14.933333 32 32 32s32-14.933333 32-32V170.666667c0-17.066667-14.933333-32-32-32z"></path></svg>',$n='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M864 896H160a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h704a32 32 0 0 1 32 32v704a32 32 0 0 1-32 32zM192 832h640V192H192v640z"></path></svg>',Sn=Object.assign({"./svg/图片.svg":wn,"./svg/图表.svg":xn,"./svg/圆形.svg":kn,"./svg/按钮.svg":Cn,"./svg/文本.svg":Vn,"./svg/矩形.svg":$n}),Mn={name:String,color:String,size:[String,Number]},zn=e=>e?Sn[`./svg/${e}.svg`]:"",Un=["innerHTML"],En=W({__name:"Icon",props:Mn,setup(e){const t=e,n=j(()=>zn(t.name)),l=j(()=>!t.size&&!t.color?{}:{fontSize:typeof t.size=="string"?t.size:`${t.size}px`,"--color":t.color});return(a,r)=>(g(),$("i",{class:"es-icon",style:K(l.value),innerHTML:n.value},null,12,Un))}}),In=te(En,[["__scopeId","data-v-9993e1f7"]]),Rn={class:"es-layout-aside"},Hn={class:"collapse-content"},Ln=["onDragstart"],Dn={class:"block-text"},Fn={class:"collapse-content"},Tn=["onDragstart"],qn=W({__name:"Aside",emits:["dragstart","dragend"],setup(e,{emit:t}){const n=t,l=L(["1","2"]);function a(u,i){let c=50,p=50;i.component!=="es-icon"&&(c=i.width||u.target.offsetWidth,p=i.height||u.target.offsetHeight),n("dragstart",{...i,width:c,height:p})}function r(){n("dragend")}return(u,i)=>{const c=w("el-collapse-item"),p=w("el-collapse");return g(),$("div",Rn,[pt(u.$slots,"default",{},()=>[o(p,{modelValue:l.value,"onUpdate:modelValue":i[0]||(i[0]=f=>l.value=f)},{default:s(()=>[o(c,{title:"通用",name:"1"},{default:s(()=>[x("div",Hn,[(g(!0),$(B,null,Y(S($t).componentList,f=>(g(),$("div",{class:"es-block",draggable:"true",onDragstart:v=>a(v,f),onDragend:r},[o(In,{name:f.text},null,8,["name"]),x("span",Dn,ne(f.text),1)],40,Ln))),256))])]),_:1}),o(c,{title:"图标",name:"2"},{default:s(()=>[x("div",Fn,[(g(!0),$(B,null,Y(S($t).iconList,f=>(g(),$("div",{class:"es-block",draggable:"true",onDragstart:v=>a(v,f),onDragend:r},[f.component?(g(),q(Ke(f.component),ke({key:0,ref_for:!0},f.props),null,16)):(g(),$(B,{key:1},[V(ne(f.props.icon),1)],64))],40,Tn))),256))])]),_:1})]),_:1},8,["modelValue"])])])}}}),Bn={class:"es-input-number-prefix"},An=W({__name:"InputNumber",props:{prefix:{type:String}},setup(e){return(t,n)=>{const l=w("el-input-number");return g(),$("div",{class:be(["es-input-number",{"has-prefix":e.prefix||t.$slots.prefix}])},[x("div",Bn,[pt(t.$slots,"prefix",{},()=>[e.prefix?(g(),$(B,{key:0},[V(ne(e.prefix)+":",1)],64)):N("",!0)],!0)]),o(l,ke(t.$attrs,{"controls-position":"right"}),null,16)],2)}}}),ce=te(An,[["__scopeId","data-v-32503cf1"]]),Ce=W({__name:"ColorPicker",setup(e){const t=Ve()+"-picker",n=["#ff4500","#ff8c00","#ffd700","#90ee90","#00ced1","#1e90ff","#c71585","rgba(255, 69, 0, 0.68)","rgb(255, 120, 0)","hsv(51, 100, 98)","hsva(120, 40, 94, 0.5)","hsl(181, 100%, 37%)","hsla(209, 100%, 56%, 0.73)","#c7158577"];return me(()=>{const l=document.querySelector(`.${t}`);l&&l.addEventListener("click",a=>a.stopPropagation())}),(l,a)=>{const r=w("el-color-picker");return g(),q(r,{"popper-class":t,"show-alpha":"",predefine:n})}}}),Yt=W({__name:"Background",props:{modelValue:{type:String}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,l=t,a={startColor:"rgba(255, 255, 255, 1)",endColor:"rgba(255, 255, 255, 1)",gradientRotate:90},r=j({get:()=>(n.modelValue||"").includes("gradient")?h("startColor"):n.modelValue,set:U=>{l("update:modelValue",U)}}),u=[{label:"纯色背景",value:1},{label:"渐变背景",value:2}],i=L(u[0].value),c=[{label:"线性渐变",value:"linear"},{label:"径向渐变",value:"radial"}],p=L(c[0].value),f=j({get:()=>h("startColor"),set:U=>{k(m.value,U,v.value)}}),v=j({get:()=>h("endColor"),set:U=>{k(m.value,f.value,U)}}),m=j({get:()=>h("gradientRotate"),set:U=>{k(U,f.value,v.value)}});function d(){i.value===1?l("update:modelValue",r.value):k(m.value,f.value,v.value)}function h(U){const _=n.modelValue||"rgba(255, 255, 255, 1)";if(!_.includes("gradient"))return U==="startColor"?Nt(_).rgb().string():a[U];let R=/gradient\((\d+deg),\s*(rgba?\([^)]+\)),\s*(rgba?\([^)]+\))\)/;_.includes("radial")&&(R=/(gradient)\(.*(rgba?\([^)]+\)),\s*(rgba?\([^)]+\))\)/);const A=_.match(R),P=a[U];return A?U==="startColor"?A[2]||P:U==="endColor"?A[3]||P:U==="gradientRotate"&&parseInt(A[1])||P:P}function k(U,_,y){let R=`linear-gradient(${U}deg, ${_}, ${y})`;p.value==="radial"&&(R=`radial-gradient(${_}, ${y})`),l("update:modelValue",R)}return(U,_)=>{const y=w("el-option"),R=w("el-select"),H=w("el-col"),A=w("el-row"),P=w("el-slider");return g(),$(B,null,[o(A,{gutter:10},{default:s(()=>[o(H,{span:12},{default:s(()=>[o(R,{modelValue:i.value,"onUpdate:modelValue":_[0]||(_[0]=b=>i.value=b),onChange:d},{default:s(()=>[(g(),$(B,null,Y(u,b=>o(y,ke({ref_for:!0},b),null,16)),64))]),_:1},8,["modelValue"])]),_:1}),o(H,{span:12},{default:s(()=>[i.value===1?(g(),q(Ce,{key:0,modelValue:r.value,"onUpdate:modelValue":_[1]||(_[1]=b=>r.value=b),"color-format":"rgb"},null,8,["modelValue"])):(g(),q(R,{key:1,modelValue:p.value,"onUpdate:modelValue":_[2]||(_[2]=b=>p.value=b),onChange:_[3]||(_[3]=b=>k(m.value,f.value,v.value))},{default:s(()=>[(g(),$(B,null,Y(c,b=>o(y,ke({ref_for:!0},b),null,16)),64))]),_:1},8,["modelValue"]))]),_:1})]),_:1}),i.value===2?(g(),$(B,{key:0},[o(A,{gutter:10},{default:s(()=>[o(H,{span:12},{default:s(()=>[..._[7]||(_[7]=[V("起点颜色:",-1)])]),_:1}),o(H,{span:12},{default:s(()=>[o(Ce,{modelValue:f.value,"onUpdate:modelValue":_[4]||(_[4]=b=>f.value=b)},null,8,["modelValue"])]),_:1})]),_:1}),o(A,{gutter:10},{default:s(()=>[o(H,{span:12},{default:s(()=>[..._[8]||(_[8]=[V("终点颜色:",-1)])]),_:1}),o(H,{span:12},{default:s(()=>[o(Ce,{modelValue:v.value,"onUpdate:modelValue":_[5]||(_[5]=b=>v.value=b)},null,8,["modelValue"])]),_:1})]),_:1}),p.value==="linear"?(g(),q(A,{key:0,gutter:10},{default:s(()=>[o(H,{span:12},{default:s(()=>[..._[9]||(_[9]=[V("渐变角度:",-1)])]),_:1}),o(H,{span:12},{default:s(()=>[o(P,{size:"small",modelValue:m.value,"onUpdate:modelValue":_[6]||(_[6]=b=>m.value=b),max:360},null,8,["modelValue"])]),_:1})]),_:1})):N("",!0)],64)):N("",!0)],64)}}}),Pn={style:{display:"flex","justify-content":"flex-end"}},On={style:{display:"flex","justify-content":"flex-end"}},jn={style:{display:"flex","justify-content":"flex-end"}},Nn=W({__name:"EditorStyle",setup(e){const t=ie(),n=L(100),l=j({get:()=>{const{width:i,height:c}=t.data.container.style;return`${i} x ${c}`},set:i=>{const[c,p]=i.split(" x ");t.data.container.style.width=+c,t.data.container.style.height=+p}}),a=[{label:"PC",options:[{label:"1360 x 760",value:"1360 x 760"},{label:"1280 x 720",value:"1280 x 720"},{label:"800 x 600",value:"800 x 600"}]},{label:"H5",options:[{label:"360 x 780",value:"360 x 780"},{label:"iPhone 6/7/8",value:"375 x 667"},{label:"iPhone 6/7/8 Plus",value:"414 x 736"}]}],r=j({get:()=>t.data.container.style.background||t.data.container.style.backgroundColor,set:i=>{t.data.container.style.background=i}}),u=i=>{t.data.container.scaleRatio=i/100};return(i,c)=>{const p=w("el-col"),f=w("el-option"),v=w("el-option-group"),m=w("el-select"),d=w("el-row"),h=w("el-input"),k=w("el-divider"),U=w("el-switch"),_=w("el-form");return g(),q(_,{model:S(t).data.container,"label-width":"90px","label-position":"left",style:{padding:"0 10px"}},{default:s(()=>[o(d,{gutter:10},{default:s(()=>[o(p,{span:10},{default:s(()=>[...c[10]||(c[10]=[V("画布尺寸:",-1)])]),_:1}),o(p,{span:14},{default:s(()=>[o(m,{modelValue:l.value,"onUpdate:modelValue":c[0]||(c[0]=y=>l.value=y)},{default:s(()=>[(g(),$(B,null,Y(a,y=>o(v,{key:y.label,label:y.label},{default:s(()=>[(g(!0),$(B,null,Y(y.options,R=>(g(),q(f,{label:R.label,value:R.value},null,8,["label","value"]))),256))]),_:2},1032,["label"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1}),o(d,{gutter:10},{default:s(()=>[o(p,{span:10},{default:s(()=>[...c[11]||(c[11]=[V("缩放比例:",-1)])]),_:1}),o(p,{span:14},{default:s(()=>[o(h,{modelValue:n.value,"onUpdate:modelValue":c[1]||(c[1]=y=>n.value=y),modelModifiers:{number:!0},onChange:u},{suffix:s(()=>[...c[12]||(c[12]=[V("%",-1)])]),_:1},8,["modelValue"])]),_:1})]),_:1}),o(d,{gutter:10},{default:s(()=>[o(p,{span:10},{default:s(()=>[...c[13]||(c[13]=[V("画布宽度:",-1)])]),_:1}),o(p,{span:14},{default:s(()=>[o(ce,{modelValue:S(t).data.container.style.width,"onUpdate:modelValue":c[2]||(c[2]=y=>S(t).data.container.style.width=y)},null,8,["modelValue"])]),_:1})]),_:1}),o(d,{gutter:10},{default:s(()=>[o(p,{span:10},{default:s(()=>[...c[14]||(c[14]=[V("画布高度:",-1)])]),_:1}),o(p,{span:14},{default:s(()=>[o(ce,{modelValue:S(t).data.container.style.height,"onUpdate:modelValue":c[3]||(c[3]=y=>S(t).data.container.style.height=y)},null,8,["modelValue"])]),_:1})]),_:1}),o(k),o(Yt,{modelValue:r.value,"onUpdate:modelValue":c[4]||(c[4]=y=>r.value=y)},null,8,["modelValue"]),o(k),o(d,{gutter:10},{default:s(()=>[o(p,{span:10},{default:s(()=>[...c[15]||(c[15]=[V("网格吸附:",-1)])]),_:1}),o(p,{span:14},{default:s(()=>[x("div",Pn,[o(U,{modelValue:S(t).data.container.snap,"onUpdate:modelValue":c[5]||(c[5]=y=>S(t).data.container.snap=y)},null,8,["modelValue"])])]),_:1})]),_:1}),o(d,{gutter:10},{default:s(()=>[o(p,{span:10},{default:s(()=>[...c[16]||(c[16]=[V("画布网格:",-1)])]),_:1}),o(p,{span:14},{default:s(()=>[x("div",On,[o(U,{modelValue:S(t).data.container.snapToGrid,"onUpdate:modelValue":c[6]||(c[6]=y=>S(t).data.container.snapToGrid=y)},null,8,["modelValue"])])]),_:1})]),_:1}),S(t).data.container.snapToGrid?(g(),$(B,{key:0},[o(d,{gutter:10},{default:s(()=>[o(p,{span:10},{default:s(()=>[...c[17]||(c[17]=[V("网格大小:",-1)])]),_:1}),o(p,{span:14},{default:s(()=>[o(ce,{modelValue:S(t).data.container.gridSize,"onUpdate:modelValue":c[7]||(c[7]=y=>S(t).data.container.gridSize=y)},null,8,["modelValue"])]),_:1})]),_:1}),o(d,{gutter:10},{default:s(()=>[o(p,{span:10},{default:s(()=>[...c[18]||(c[18]=[V("网格颜色:",-1)])]),_:1}),o(p,{span:14},{default:s(()=>[o(Ce,{modelValue:S(t).data.container.gridColor,"onUpdate:modelValue":c[8]||(c[8]=y=>S(t).data.container.gridColor=y)},null,8,["modelValue"])]),_:1})]),_:1})],64)):N("",!0),o(k),o(d,{gutter:10},{default:s(()=>[o(p,{span:10},{default:s(()=>[...c[19]||(c[19]=[V("参考线:",-1)])]),_:1}),o(p,{span:14},{default:s(()=>[x("div",jn,[o(U,{modelValue:S(t).data.container.markline.show,"onUpdate:modelValue":c[9]||(c[9]=y=>S(t).data.container.markline.show=y)},null,8,["modelValue"])])]),_:1})]),_:1})]),_:1},8,["model"])}}}),Gn='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M928 896l0 32-832 0 0-32z"></path><path fill="currentColor" d="M672 96m0 32l0 640q0 32-32 32l-256 0q-32 0-32-32l0-640q0-32 32-32l256 0q32 0 32 32Z"></path></svg>',Yn='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M928 512l0 32-192 0 0-32L928 512z m-640 0l0 32-192 0 0-32 192 0z"></path><path d="M672 128m0 32l0 736q0 32-32 32l-256 0q-32 0-32-32l0-736q0-32 32-32l256 0q32 0 32 32Z"></path></svg>',Wn='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M96 128l0-32 832 0 0 32z"></path><path fill="currentColor" d="M352 928m0-32l0-640q0-32 32-32l256 0q32 0 32 32l0 640q0 32-32 32l-256 0q-32 0-32-32Z"></path></svg>',Jn='<svg t="1692778133849" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="15222" width="16" height="16"><path d="M123.26 411.37a32 32 0 1 1 45.28-45.23l311.34 311.67L479.71 97a32 32 0 0 1 32-32 32 32 0 0 1 32 32l0.17 580.89 311.59-311.76a32 32 0 0 1 45.27 45.24l-366.2 366.39-0.19 0.18-0.94 0.9-0.52 0.44-0.62 0.53-0.1 0.09-0.62 0.47-0.5 0.4c-0.05 0-0.1 0.08-0.16 0.11-0.21 0.16-0.43 0.31-0.65 0.46l-0.46 0.32-0.2 0.14-0.65 0.41-0.48 0.29a1.64 1.64 0 0 1-0.22 0.14l-0.62 0.35-0.52 0.29-0.23 0.13-0.59 0.29-0.6 0.3-0.18 0.09c-0.17 0.09-0.35 0.16-0.53 0.24l-0.71 0.3-0.19 0.08-0.48 0.18c-0.27 0.1-0.54 0.21-0.81 0.3H522.6l-0.42 0.13-0.91 0.3h-0.14l-0.39 0.11-1 0.26h-0.12l-0.38 0.08c-0.34 0.08-0.68 0.16-1 0.22h-0.06l-0.42 0.07-1 0.17h-0.09c-0.17 0-0.34 0-0.51 0.06l-0.94 0.12h-0.95l-0.75 0.05h-3.12l-0.75-0.05H508.84l-0.94-0.12c-0.17 0-0.34 0-0.51-0.06h-0.09l-1-0.17-0.42-0.07h-0.1c-0.34-0.06-0.68-0.14-1-0.22l-0.4-0.08h-0.08l-1-0.26-0.4-0.11h-0.14l-0.89-0.29-0.45-0.14-0.14-0.05c-0.26-0.09-0.53-0.19-0.79-0.3l-0.49-0.18h-0.2l-0.69-0.3-0.55-0.24-0.18-0.09-0.59-0.3-0.6-0.29-0.17-0.09h-0.05l-0.52-0.28-0.64-0.36-0.14-0.09h-0.07l-0.47-0.3c-0.22-0.14-0.45-0.27-0.67-0.42h-0.07l-0.11-0.08-0.47-0.33-0.81-0.49-0.09-0.08-0.53-0.42-0.61-0.47-0.08-0.07c-0.24-0.19-0.47-0.4-0.7-0.6l-0.46-0.4c-0.41-0.37-0.81-0.74-1.19-1.13zM896.68 895H127.32a32 32 0 1 0 0 64h769.36a32 32 0 0 0 0-64z" fill="currentColor" p-id="15223"></path></svg>',Qn='<svg t="1692774315617" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8893" width="16" height="16"><path fill="currentColor" d="M96 128h832v96H96zM96 576h832v96H96zM224 352h576v96H224zM224 800h576v96H224z" p-id="8894"></path></svg>',Xn='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M800 448H704V320c0-106.4-85.6-192-192-192S320 213.6 320 320v128H224c-17.6 0-32 14.4-32 32v384c0 17.6 14.4 32 32 32h576c17.6 0 32-14.4 32-32V480c0-17.6-14.4-32-32-32zM512 736c-35.2 0-64-28.8-64-64s28.8-64 64-64 64 28.8 64 64-28.8 64-64 64z m128-288H384V320c0-70.4 57.6-128 128-128s128 57.6 128 128v128z"></path></svg>',Kn='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M496 96h32v192h-32V96z m0 640h32v192h-32v-192z"></path><path d="M112 352m32 0l736 0q32 0 32 32l0 256q0 32-32 32l-736 0q-32 0-32-32l0-256q0-32 32-32Z" fill="currentColor"></path></svg>',Zn='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M96 96h32v832H96z"></path><path d="M224 352m32 0l640 0q32 0 32 32l0 256q0 32-32 32l-640 0q-32 0-32-32l0-256q0-32 32-32Z" fill="currentColor"></path></svg>',eo='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M896 96h32v832h-32z"></path><path d="M96 352m32 0l640 0q32 0 32 32l0 256q0 32-32 32l-640 0q-32 0-32-32l0-256q0-32 32-32Z" fill="currentColor"></path></svg>',to='<svg t="1692774266304" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6910" width="16" height="16"><path fill="currentColor" d="M96 128h832v96H96zM96 576h832v96H96zM96 352h576v96H96zM96 800h576v96H96z" p-id="6911"></path></svg>',lo='<svg t="1692778640543" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7435" width="16" height="16"><path fill="currentColor" d="M143.998942-0.011289h64.007055V1024h-64.007055zM815.982714 224.002117h64.007056v575.984478h-64.007056zM591.991886-0.011289h64.007056V1024h-64.007056zM368.001058 224.002117h63.995767v575.984478h-63.995767z" p-id="7436"></path></svg>',no='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M147.4 187.1 283.7 323.4 322.7 284.3 324.6 282.5 190.4 148.2 329.8 148.2 329.8 90.3 89.5 90.3 89.5 329 147.4 329Z"></path><path fill="currentColor" d="M322.5 739.5 283.4 700.4 281.6 698.5 147.4 832.7 147.4 693.4 89.5 693.4 89.5 933.7 328.1 933.7 328.1 875.8 186.2 875.8Z" p-id="9891"></path><path fill="currentColor" d="M694.2 90.3 694.2 148.2 833.6 148.2 701.2 280.6 699.4 282.5 738.5 321.6 740.3 323.3 876.6 187.1 876.6 329 934.5 329 934.5 90.3Z"></path><path fill="currentColor" d="M876.6 832.8 742.3 698.6 703.2 737.7 701.5 739.5 837.7 875.8 695.8 875.8 695.8 933.7 934.5 933.7 934.5 693.4 876.6 693.4Z"></path><path fill="currentColor" d="M512 291.1c-121.8 0-220.9 99.1-220.9 220.8S390.2 732.8 512 732.8 732.9 633.8 732.9 512 633.8 291.1 512 291.1zM675 512c0 89.9-73.1 163-163 163s-163-73.1-163-163c0-89.9 73.1-163 163-163S675 422.1 675 512z"></path></svg>',oo='<svg t="1692774301684" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7896" width="16" height="16"><path fill="currentColor" d="M96 128h832v96H96zM96 576h832v96H96zM352 352h576v96H352zM352 800h576v96H352z" p-id="7897"></path></svg>',ao='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M929 849a30 30 0 0 1-30-30v-83.137a447.514 447.514 0 0 1-70.921 92.209C722.935 933.225 578.442 975.008 442 953.482a444.917 444.917 0 0 1-241.139-120.591 30 30 0 1 1 37.258-47.01l0.231-0.231A385.175 385.175 0 0 0 442 892.625v-0.006c120.855 22.123 250.206-13.519 343.656-106.975a386.646 386.646 0 0 0 70.6-96.653h-87.247a30 30 0 0 1 0-60H929a30 30 0 0 1 30 30V819a30 30 0 0 1-30 30zM632 342a50 50 0 0 1 50 50v240a50 50 0 0 1-50 50H392a50 50 0 0 1-50-50V392a50 50 0 0 1 50-50h240zM402 607a15 15 0 0 0 15 15h190a15 15 0 0 0 15-15V417a15 15 0 0 0-15-15H417a15 15 0 0 0-15 15v190z m403.005-362.025a29.87 29.87 0 0 1-19.117-6.882l-0.232 0.231A386.5 386.5 0 0 0 689.478 168h-0.011c-145.646-75.182-329.021-51.747-451.117 70.35a386.615 386.615 0 0 0-70.6 96.65H255a30 30 0 0 1 0 60H95a30 30 0 0 1-30-30V205a30 30 0 0 1 60 0v83.129a447.534 447.534 0 0 1 70.923-92.206C317.981 73.866 493.048 37.2 647 85.836v-0.045a444.883 444.883 0 0 1 176.143 105.291 30 30 0 0 1-18.138 53.893z"></path></svg>',so='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M742.4 384a51.2 51.2 0 0 1 51.2 51.2v460.8a51.2 51.2 0 0 1-51.2 51.2H153.6a51.2 51.2 0 0 1-51.2-51.2V435.2a51.2 51.2 0 0 1 51.2-51.2z m-25.6 76.8H179.2v409.6h537.6V460.8zM514.7648 71.68l54.3232 54.2976-36.5568 36.5568A473.856 473.856 0 0 1 958.208 477.3376l-72.3968 25.6256A397.056 397.056 0 0 0 538.0096 239.744l31.0784 31.0528-54.3232 54.2976-126.72-126.72 126.72-126.6944z"></path></svg>',ro='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M870.4 384a51.2 51.2 0 0 1 51.2 51.2v460.8a51.2 51.2 0 0 1-51.2 51.2H281.6a51.2 51.2 0 0 1-51.2-51.2V435.2a51.2 51.2 0 0 1 51.2-51.2h588.8z m-25.6 76.8H307.2v409.6h537.6V460.8zM491.1104 53.5808l90.496 90.496L635.904 198.4 581.632 252.672l-90.5216 90.5216-54.272-54.3232 53.7856-53.8368A397.056 397.056 0 0 0 135.8336 502.272l-72.6016-25.0112A473.856 473.856 0 0 1 487.2448 158.3104l-50.432-50.432 54.2976-54.2976z"></path></svg>',uo='<svg t="1692777879594" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="14228" width="16" height="16"><path d="M557.654996 981.669904c-6.499999 59.041994-88.986991 53.776995-92.179991 0-0.083-40.896996-0.083-641.390937-0.083-641.390937l-283.839972 273.963973c-44.472996 38.308996-97.43499-22.922998-64.344994-63.215994 125.709988-121.895988 351.289966-340.004967 356.507965-345.049966 20.810998-22.608998 53.572995-23.779998 75.721993 0 41.406996 40.037996 348.700966 336.328967 358.028965 346.989966 31.166997 38.741996-19.223998 96.073991-62.242994 63.773994C834.109969 607.310941 557.739996 340.267967 557.739996 340.267967M116.396039 3.332l786.487923 0 0 89.285991L116.396039 92.617991 116.396039 3.332z" fill="currentColor" p-id="14229"></path></svg>',io=Object.assign({"./svg/align-bottom.svg":Gn,"./svg/align-center.svg":Yn,"./svg/align-top.svg":Wn,"./svg/bottom.svg":Jn,"./svg/center.svg":Qn,"./svg/disabled.svg":Xn,"./svg/justify-center.svg":Kn,"./svg/justify-left.svg":Zn,"./svg/justify-right.svg":eo,"./svg/left.svg":to,"./svg/middle.svg":lo,"./svg/resizable.svg":no,"./svg/right.svg":oo,"./svg/rotatable.svg":ao,"./svg/rotate-left.svg":so,"./svg/rotate-right.svg":ro,"./svg/top.svg":uo}),co={name:String,color:String,size:[String,Number]},po=e=>e?io[`./svg/${e}.svg`]:"",fo=["innerHTML"],mo=W({__name:"SvgIcon",props:co,setup(e){const t=e,n=j(()=>po(t.name)),l=j(()=>!t.size&&!t.color?{}:{fontSize:typeof t.size=="string"?t.size:`${t.size}px`,"--color":t.color});return(a,r)=>(g(),$("i",{class:"es-icon",style:K(l.value),innerHTML:n.value},null,12,fo))}}),Ue=te(mo,[["__scopeId","data-v-ec29d57e"]]),vo=W({__name:"TextStyle",setup(e){const t=ie(),n=[{label:"正常",value:"normal"},{label:"标题 1",value:"2em"},{label:"标题 2",value:"1.5em"},{label:"标题 3",value:"1.17em"},{label:"标题 4",value:"1em"},{label:"标题 5",value:"0.9em"},{label:"标题 6",value:"0.8em"}],l=L(""),a=[{label:"加粗",icon:"B",key:"fontWeight",value:"bold"},{label:"斜体",icon:"I",key:"fontStyle",value:"italic"},{label:"下划线",icon:"U",key:"textDecoration",value:"underline"},{label:"中划线",icon:"S",key:"textDecoration",value:"line-through"},{label:"左对齐",icon:"left",key:"justifyContent",value:"flex-start"},{label:"水平居中",icon:"center",key:"justifyContent",value:"center"},{label:"右对齐",icon:"right",key:"justifyContent",value:"flex-end"},{label:"上对齐",icon:"top",key:"alignItems",value:"flex-start"},{label:"垂直居中",icon:"middle",key:"alignItems",value:"center"},{label:"下对齐",icon:"bottom",key:"alignItems",value:"flex-end"}],r=j(()=>[...a].map(d=>({...d,selected:m(d.key)===d.value}))),u=j(()=>[r.value.slice(0,4),r.value.slice(4,7),r.value.slice(7,10)]),i=[{label:"Helvetica"},{label:"PingFang SC"},{label:"Hiragino Sans GB"},{label:"Microsoft YaHei"},{label:"Times New Roman"},{label:"Verdana"},{label:"Courier New"},{label:"Georgia"},{label:"Lucida Sans"},{label:"Tahoma"}];function c(d){d.selected=!d.selected,v(d.key,d.selected?d.value:void 0)}function p(d){const h=d==="normal";t.current.style.fontSize=h?void 0:d,t.current.style.fontWeight=h?"normal":"bold"}const f=j({get:()=>t.current.style||{},set:d=>{t.current.style=t.current.style||{},Object.keys(d).forEach(h=>{v(h,d[h])})}});function v(d,h){t.current.style[d]=h}function m(d){return t.current.style[d]}return(d,h)=>{const k=w("el-col"),U=w("el-row"),_=w("el-option"),y=w("el-select"),R=w("el-input"),H=w("el-button"),A=w("el-tooltip"),P=w("el-button-group");return g(),$("div",null,[o(U,{gutter:10},{default:s(()=>[o(k,{span:10},{default:s(()=>[...h[6]||(h[6]=[V("字体颜色:",-1)])]),_:1}),o(k,{span:14},{default:s(()=>[o(Ce,{modelValue:f.value.color,"onUpdate:modelValue":h[0]||(h[0]=b=>f.value.color=b)},null,8,["modelValue"])]),_:1})]),_:1}),o(U,{gutter:10},{default:s(()=>[o(k,{span:10},{default:s(()=>[...h[7]||(h[7]=[V("标题:",-1)])]),_:1}),o(k,{span:14},{default:s(()=>[o(y,{modelValue:l.value,"onUpdate:modelValue":h[1]||(h[1]=b=>l.value=b),placeholder:"标题",onChange:p},{default:s(()=>[(g(),$(B,null,Y(n,b=>o(_,{label:b.label,value:b.value},{default:s(()=>[x("span",{style:K({fontSize:b.value,fontWeight:"bold"})},ne(b.label),5)]),_:2},1032,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1}),o(U,{gutter:10},{default:s(()=>[o(k,{span:10},{default:s(()=>[...h[8]||(h[8]=[V("字体:",-1)])]),_:1}),o(k,{span:14},{default:s(()=>[o(y,{modelValue:f.value.fontFamily,"onUpdate:modelValue":h[2]||(h[2]=b=>f.value.fontFamily=b),placeholder:"字体"},{default:s(()=>[(g(),$(B,null,Y(i,b=>o(_,{label:b.label,value:b.label},{default:s(()=>[x("span",{style:K({fontFamily:b.label})},ne(b.label),5)]),_:2},1032,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1}),o(U,{gutter:10},{default:s(()=>[o(k,{span:10},{default:s(()=>[...h[9]||(h[9]=[V("字体大小:",-1)])]),_:1}),o(k,{span:14},{default:s(()=>[o(R,{modelValue:f.value.fontSize,"onUpdate:modelValue":h[3]||(h[3]=b=>f.value.fontSize=b)},null,8,["modelValue"])]),_:1})]),_:1}),o(U,{gutter:10},{default:s(()=>[o(k,{span:10},{default:s(()=>[...h[10]||(h[10]=[V("行高:",-1)])]),_:1}),o(k,{span:14},{default:s(()=>[o(ce,{modelValue:f.value.lineHeight,"onUpdate:modelValue":h[4]||(h[4]=b=>f.value.lineHeight=b)},null,8,["modelValue"])]),_:1})]),_:1}),o(U,{gutter:10},{default:s(()=>[o(k,{span:10},{default:s(()=>[...h[11]||(h[11]=[V("文本:",-1)])]),_:1}),o(k,{span:14},{default:s(()=>[o(R,{type:"textarea",modelValue:S(t).current.text,"onUpdate:modelValue":h[5]||(h[5]=b=>S(t).current.text=b)},null,8,["modelValue"])]),_:1})]),_:1}),(g(!0),$(B,null,Y(u.value,(b,E)=>(g(),q(U,null,{default:s(()=>[o(P,{style:{display:"inline-flex"}},{default:s(()=>[(g(!0),$(B,null,Y(b,z=>(g(),q(A,{placement:"top","show-after":300,content:z.label},{default:s(()=>[o(H,{type:z.selected?"primary":"",style:K([{flex:"1"},E===0?{[z.key]:z.value}:{}]),onClick:F=>c(z)},{default:s(()=>[E===0?(g(),$(B,{key:0},[V(ne(z.icon),1)],64)):(g(),q(Ue,{key:1,name:z.icon,size:20},null,8,["name"]))]),_:2},1032,["type","style","onClick"])]),_:2},1032,["content"]))),256))]),_:2},1024)]),_:2},1024))),256))])}}}),go=te(vo,[["__scopeId","data-v-fde0c97b"]]),ho={key:0},_o=W({__name:"Border",setup(e){const t=ie(),n=[{label:"实线",value:"solid"},{label:"虚线",value:"dashed"},{label:"点线",value:"dotted"}],l=j({get:()=>(t.current.style.borderStyle||(t.current.style.borderStyle="solid"),t.current.style.borderWidth||(t.current.style.borderWidth=0),t.current.style.borderStyle||"solid"),set:a=>{t.current.style.borderStyle=a}});return(a,r)=>{const u=w("el-col"),i=w("el-option"),c=w("el-select"),p=w("el-row");return S(t).current.style?(g(),$("div",ho,[o(p,{gutter:10},{default:s(()=>[o(u,{span:10},{default:s(()=>[...r[4]||(r[4]=[V("边框风格:",-1)])]),_:1}),o(u,{span:14},{default:s(()=>[o(c,{modelValue:l.value,"onUpdate:modelValue":r[0]||(r[0]=f=>l.value=f)},{default:s(()=>[(g(),$(B,null,Y(n,f=>o(i,{key:f.value,label:f.label,value:f.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1}),o(p,{gutter:10},{default:s(()=>[o(u,{span:10},{default:s(()=>[...r[5]||(r[5]=[V("边框颜色:",-1)])]),_:1}),o(u,{span:14},{default:s(()=>[o(Ce,{modelValue:S(t).current.style.borderColor,"onUpdate:modelValue":r[1]||(r[1]=f=>S(t).current.style.borderColor=f)},null,8,["modelValue"])]),_:1})]),_:1}),o(p,{gutter:10},{default:s(()=>[o(u,{span:10},{default:s(()=>[...r[6]||(r[6]=[V("边框宽度:",-1)])]),_:1}),o(u,{span:14},{default:s(()=>[o(ce,{modelValue:S(t).current.style.borderWidth,"onUpdate:modelValue":r[2]||(r[2]=f=>S(t).current.style.borderWidth=f)},null,8,["modelValue"])]),_:1})]),_:1}),o(p,{gutter:10},{default:s(()=>[o(u,{span:10},{default:s(()=>[...r[7]||(r[7]=[V("圆角半径:",-1)])]),_:1}),o(u,{span:14},{default:s(()=>[o(ce,{modelValue:S(t).current.style.borderRadius,"onUpdate:modelValue":r[3]||(r[3]=f=>S(t).current.style.borderRadius=f)},null,8,["modelValue"])]),_:1})]),_:1})])):N("",!0)}}}),bo={class:"row"},yo={class:"shape-switch"},wo=["stroke"],xo=["stroke"],ko=["stroke"],Co=["stroke"],Vo=W({__name:"ShapeSwitcher",props:{shape:{type:Number,required:!0},setShape:{type:Function,required:!0},stroke:{type:String,default:"#409EFF"}},setup(e){return(t,n)=>{const l=w("el-button");return g(),$("div",null,[x("div",bo,[x("div",yo,[o(l,{class:be({active:e.shape===0}),onClick:n[0]||(n[0]=a=>e.setShape(0)),name:"flat",title:"Flat","data-shape":"0"},{default:s(()=>[(g(),$("svg",{xmlns:"http://www.w3.org/2000/svg",width:"145",height:"24",viewBox:"0 0 145 24",fill:"none",stroke:e.stroke},[...n[4]||(n[4]=[x("path",{d:"M0 22H7C15.2843 22 22 15.2843 22 7.00001V3C22 2.44772 22.4477 2 23 2H121C121.552 2 122 2.44772 122 3V7.00001C122 15.2843 128.716 22 137 22H145",stroke:"inherit","stroke-width":"6"},null,-1)])],8,wo))]),_:1},8,["class"]),o(l,{class:be({active:e.shape===2}),onClick:n[1]||(n[1]=a=>e.setShape(2)),name:"concave",title:"Concave","data-shape":"2"},{default:s(()=>[(g(),$("svg",{xmlns:"http://www.w3.org/2000/svg",width:"145",height:"24",viewBox:"0 0 145 24",fill:"none",stroke:e.stroke},[...n[5]||(n[5]=[x("path",{d:"M0 22H7C15.2843 22 22 15.2843 22 7.00001V3.39336C22 2.7091 22.6808 2.2299 23.3304 2.44485C59.2066 14.3156 85.7767 12.9047 120.7 2.39438C121.343 2.20072 122 2.67921 122 3.3512V7.00001C122 15.2843 128.716 22 137 22H145",stroke:"inherit","stroke-width":"6"},null,-1)])],8,xo))]),_:1},8,["class"]),o(l,{class:be({active:e.shape===3}),onClick:n[2]||(n[2]=a=>e.setShape(3)),name:"convex",title:"Convex","data-shape":"3"},{default:s(()=>[(g(),$("svg",{xmlns:"http://www.w3.org/2000/svg",width:"145",height:"33",viewBox:"0 0 145 33",fill:"none",stroke:e.stroke},[...n[6]||(n[6]=[x("path",{d:"M0 31H7C15.2843 31 22 24.2843 22 16V11.7329C22 11.2966 22.2898 10.9083 22.7061 10.7779C60.0722 -0.924818 84.913 -0.925978 121.302 10.7745C121.714 10.9071 122 11.2935 122 11.727V16C122 24.2843 128.716 31 137 31H145",stroke:"inherit","stroke-width":"6"},null,-1)])],8,ko))]),_:1},8,["class"]),o(l,{class:be({active:e.shape===1}),onClick:n[3]||(n[3]=a=>e.setShape(1)),name:"pressed",title:"Pressed","data-shape":"1"},{default:s(()=>[(g(),$("svg",{xmlns:"http://www.w3.org/2000/svg",width:"145",height:"24",viewBox:"0 0 145 24",fill:"none",stroke:e.stroke},[...n[7]||(n[7]=[x("path",{d:"M0 2H22V21C22 21.5523 22.4477 22 23 22H121C121.552 22 122 21.5523 122 21V2H145",stroke:"inherit","stroke-width":"6"},null,-1)])],8,Co))]),_:1},8,["class"])])])])}}}),$o=te(Vo,[["__scopeId","data-v-94bee2e4"]]),So=W({__name:"LightSource",props:{left:{type:String,default:"0"},top:{type:String,default:"0"},right:{type:String,default:"0"},bottom:{type:String,default:"0"},active:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:t}){const n=t,l=e,a=j(()=>({position:"absolute",left:l.left,top:l.top,right:l.right,bottom:l.bottom,height:"20px",width:"20px",cursor:"pointer",border:"2px solid black","border-bottom-right-radius":l.right==="unset"&&l.bottom==="unset"?"20px":"unset","border-bottom-left-radius":l.left==="unset"&&l.bottom==="unset"?"20px":"unset","border-top-right-radius":l.right==="unset"&&l.top==="unset"?"20px":"unset","border-top-left-radius":l.left==="unset"&&l.top==="unset"?"20px":"unset"}));return(r,u)=>(g(),$("div",{class:be(["light-source",{active:e.active}]),style:K(a.value),onClick:u[0]||(u[0]=i=>n("click",i))},null,6))}}),Oe=te(So,[["__scopeId","data-v-42e132f1"]]);function je(e,t){e=String(e).replace(/[^0-9a-f]/gi,""),e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;let n="#",l,a;for(a=0;a<3;a++)l=parseInt(e.substr(a*2,2),16),l=Math.round(Math.min(Math.max(0,l+l*t),255)).toString(16),n+=("00"+l).substr(l.length);return n}const Mo=e=>/^#[0-9A-F]{6}$/i.test(e),zo={key:0},Uo={style:{display:"flex","justify-content":"flex-end"}},Eo={style:{display:"flex","justify-content":"flex-end"}},Io=W({__name:"Shadow",setup(e){const t=ie(),n=L(!1),l=L(!1),a=L(3),r=L(3),u=L(3),i=L(3),c=L(1),p=L("#808080"),f=L(0),v=L(0),m=L(.15),d=L(0),h=L(145),k=L(!1),U=L(1),_=j(()=>{var P,b,E,z;if(l.value){const F=je(((P=t.current.style)==null?void 0:P.background)||((b=t.current.style)==null?void 0:b.backgroundColor),m.value*-1),J=je(((E=t.current.style)==null?void 0:E.background)||((z=t.current.style)==null?void 0:z.backgroundColor),m.value),Z=d.value===1?"inset":"";switch(h.value){case 145:u.value=v.value,i.value=v.value;break;case 225:u.value=v.value*-1,i.value=v.value;break;case 315:u.value=v.value*-1,i.value=v.value*-1;break;case 45:u.value=v.value,i.value=v.value*-1;break;default:u.value=v.value,i.value=v.value;break}return`${Z} ${u.value}px ${i.value}px ${f.value}px ${F}, ${Z} ${u.value*-1}px ${i.value*-1}px ${f.value}px ${J}`}else return`${a.value}px ${r.value}px ${c.value}px ${p.value}`}),y=P=>{switch(U.value=P,P){case 1:h.value=145;break;case 2:h.value=225;break;case 3:h.value=315;break;case 4:h.value=45;break;default:h.value=145;break}t.current.style.boxShadow=_.value},R=P=>{var Z,he;console.log(P);const b=parseInt(P);d.value=b,b===2||b===3?k.value=!0:k.value=!1;const E=((Z=t.current.style)==null?void 0:Z.background)||((he=t.current.style)==null?void 0:he.backgroundColor)||"#000000";if(!Mo(E))return;const z=k.value&&d.value!==1?je(E,d.value===3?.07:-.1):E,F=k.value&&d.value!==1?je(E,d.value===2?.07:-.1):E,J=k.value&&d.value!==1?`linear-gradient(${h.value}deg, ${z}, ${F})`:`${E}`;t.current.style.background=J,t.current.style.boxShadow=_.value},H=P=>{P?t.current.style.boxShadow=_.value:t.current.style.boxShadow=void 0};function A(P){P&&P=="neumorDistance"&&(f.value=v.value*2),t.current.style.boxShadow=_.value}return(P,b)=>{var he,De,Fe,Te;const E=w("el-col"),z=w("el-switch"),F=w("el-row"),J=w("el-slider"),Z=w("el-divider");return S(t).current.style?(g(),$("div",zo,[o(F,{gutter:10},{default:s(()=>[o(E,{span:10},{default:s(()=>[...b[16]||(b[16]=[V("开启阴影:",-1)])]),_:1}),o(E,{span:14},{default:s(()=>[x("div",Uo,[o(z,{modelValue:n.value,"onUpdate:modelValue":b[0]||(b[0]=Q=>n.value=Q),size:"small",onChange:H},null,8,["modelValue"])])]),_:1})]),_:1}),n.value?(g(),$(B,{key:0},[o(F,{gutter:10},{default:s(()=>[o(E,{span:10},{default:s(()=>[...b[17]||(b[17]=[V("水平阴影:",-1)])]),_:1}),o(E,{span:14},{default:s(()=>[o(J,{modelValue:a.value,"onUpdate:modelValue":b[1]||(b[1]=Q=>a.value=Q),step:1,min:-10,max:10,size:"small",onInput:A},null,8,["modelValue"])]),_:1})]),_:1}),o(F,{gutter:10},{default:s(()=>[o(E,{span:10},{default:s(()=>[...b[18]||(b[18]=[V("垂直阴影:",-1)])]),_:1}),o(E,{span:14},{default:s(()=>[o(J,{modelValue:r.value,"onUpdate:modelValue":b[2]||(b[2]=Q=>r.value=Q),step:1,min:-10,max:10,size:"small",onInput:A},null,8,["modelValue"])]),_:1})]),_:1}),o(F,{gutter:10},{default:s(()=>[o(E,{span:10},{default:s(()=>[...b[19]||(b[19]=[V("模糊距离:",-1)])]),_:1}),o(E,{span:14},{default:s(()=>[o(J,{modelValue:c.value,"onUpdate:modelValue":b[3]||(b[3]=Q=>c.value=Q),step:1,min:1,max:20,size:"small",onInput:A},null,8,["modelValue"])]),_:1})]),_:1}),o(F,{gutter:10},{default:s(()=>[o(E,{span:10},{default:s(()=>[...b[20]||(b[20]=[V("阴影颜色:",-1)])]),_:1}),o(E,{span:14},{default:s(()=>[o(Ce,{modelValue:p.value,"onUpdate:modelValue":b[4]||(b[4]=Q=>p.value=Q),onChange:A},null,8,["modelValue"])]),_:1})]),_:1})],64)):N("",!0),o(Z),o(F,{gutter:10},{default:s(()=>[o(E,{span:10},{default:s(()=>[...b[21]||(b[21]=[V("新拟态风格:",-1)])]),_:1}),o(E,{span:14},{default:s(()=>[x("div",Eo,[o(z,{modelValue:l.value,"onUpdate:modelValue":b[5]||(b[5]=Q=>l.value=Q),size:"small",onChange:H},null,8,["modelValue"])])]),_:1})]),_:1}),l.value?(g(),$(B,{key:1},[x("div",{class:"light-box",style:K({background:((he=S(t).current.style)==null?void 0:he.background)||((De=S(t).current.style)==null?void 0:De.backgroundColor)})},[o(Oe,{top:"0",bottom:"unset",right:"0",left:"unset",active:U.value==2,"data-value":"2",onClick:b[6]||(b[6]=Q=>y(2)),class:"light-source"},null,8,["active"]),o(Oe,{top:"0",bottom:"unset",right:"unset",left:"0",active:U.value==1,"data-value":"1",onClick:b[7]||(b[7]=Q=>y(1)),class:"light-source"},null,8,["active"]),o(Oe,{top:"unset",bottom:"0",right:"0",left:"unset",active:U.value==3,"data-value":"3",onClick:b[8]||(b[8]=Q=>y(3)),class:"light-source"},null,8,["active"]),o(Oe,{top:"unset",bottom:"0",right:"unset",left:"0",active:U.value==4,"data-value":"4",onClick:b[9]||(b[9]=Q=>y(4)),class:"light-source"},null,8,["active"]),x("div",{class:"soft-element soft-shadow",style:K({...S(t).current.style,borderRadius:S(t).current.style.borderRadius+"px"})},null,4)],4),o(F,{gutter:10},{default:s(()=>[o(E,{span:10},{default:s(()=>[...b[22]||(b[22]=[V("圆角:",-1)])]),_:1}),o(E,{span:14},{default:s(()=>[o(J,{modelValue:S(t).current.style.borderRadius,"onUpdate:modelValue":b[10]||(b[10]=Q=>S(t).current.style.borderRadius=Q),step:1,min:0,max:S(t).current.width/2,size:"small",onInput:b[11]||(b[11]=Q=>A("neumorDistance"))},null,8,["modelValue","max"])]),_:1})]),_:1}),o(F,{gutter:10},{default:s(()=>[o(E,{span:10},{default:s(()=>[...b[23]||(b[23]=[V("模糊距离:",-1)])]),_:1}),o(E,{span:14},{default:s(()=>[o(J,{modelValue:v.value,"onUpdate:modelValue":b[12]||(b[12]=Q=>v.value=Q),step:1,min:5,max:50,size:"small",onInput:b[13]||(b[13]=Q=>A("neumorDistance"))},null,8,["modelValue"])]),_:1})]),_:1}),o(F,{gutter:10},{default:s(()=>[o(E,{span:10},{default:s(()=>[...b[24]||(b[24]=[V("强度:",-1)])]),_:1}),o(E,{span:14},{default:s(()=>[o(J,{modelValue:m.value,"onUpdate:modelValue":b[14]||(b[14]=Q=>m.value=Q),step:.01,min:0,max:1,size:"small",onInput:A},null,8,["modelValue"])]),_:1})]),_:1}),o(F,{gutter:10},{default:s(()=>[o(E,{span:10},{default:s(()=>[...b[25]||(b[25]=[V("模糊大小:",-1)])]),_:1}),o(E,{span:14},{default:s(()=>[o(J,{modelValue:f.value,"onUpdate:modelValue":b[15]||(b[15]=Q=>f.value=Q),step:1,min:0,max:100,size:"small",onInput:A},null,8,["modelValue"])]),_:1})]),_:1}),o($o,{shape:d.value,setShape:R,stroke:((Fe=S(t).current.style)==null?void 0:Fe.background)||((Te=S(t).current.style)==null?void 0:Te.backgroundColor)},null,8,["shape","stroke"])],64)):N("",!0),o(Z)])):N("",!0)}}}),Ro=te(Io,[["__scopeId","data-v-5cb517d6"]]),Ho={class:"color-list"},Lo=["onClick"],Do=W({__name:"ElementStyle",setup(e){const t=ie(),n=L([{backgroundColor:"#ff4500"},{backgroundColor:"#ff8c00"},{backgroundColor:"#ffd700"},{backgroundColor:"#90ee90"},{backgroundColor:"#00ced1"},{backgroundColor:"#1e90ff"},{backgroundColor:"#c71585"},{backgroundColor:"rgba(255, 69, 0, 0.68)"}]),l=j({get:()=>t.current.style.background||t.current.style.backgroundColor,set:u=>{t.current.style.background=u}}),a=u=>{t.current.selected&&(t.current.style={...t.current.style,...u})};function r(u,i){t.current.style[u]=i}return(u,i)=>{const c=w("el-divider"),p=w("el-col"),f=w("el-slider"),v=w("el-row"),m=w("el-form");return S(t).current&&S(t).current.selected?(g(),q(m,{key:0,model:S(t).current,"label-width":"80px","label-position":"left"},{default:s(()=>[x("div",Ho,[(g(!0),$(B,null,Y(n.value,d=>(g(),$("div",{class:"color-item",style:K(d),onClick:h=>a(d)},null,12,Lo))),256))]),S(t).current.style?(g(),$(B,{key:0},[o(Yt,{modelValue:l.value,"onUpdate:modelValue":i[0]||(i[0]=d=>l.value=d)},null,8,["modelValue"]),o(c),o(v,{gutter:10},{default:s(()=>[o(p,{span:10},{default:s(()=>[...i[2]||(i[2]=[V("透明度:",-1)])]),_:1}),o(p,{span:14},{default:s(()=>[o(f,{modelValue:1,step:.01,min:0,max:1,size:"small",onInput:i[1]||(i[1]=d=>r("opacity",d))})]),_:1})]),_:1}),o(c),o(go),o(c),o(_o),o(c),o(Ro)],64)):N("",!0)]),_:1},8,["model"])):N("",!0)}}}),Fo=te(Do,[["__scopeId","data-v-af3984eb"]]),To=W({__name:"Position",setup(e){const t=ie(),n=[{label:"左对齐",value:"justify-left"},{label:"水平居中",value:"justify-center"},{label:"右对齐",value:"justify-right"}],l=[{label:"上对齐",value:"align-top"},{label:"垂直居中",value:"align-center"},{label:"下对齐",value:"align-bottom"}],a=L(["resizable","rotatable"]),r=[{label:"禁用",value:"disabled"},{label:"可缩放",value:"resizable"},{label:"可旋转",value:"rotatable"}];function u(p){t.current.angle=(t.current.angle||0)+p}function i(p){r.map(v=>v.value).forEach(v=>{p.includes(v)?t.current[v]=!0:t.current[v]=!1})}function c(p){const{width:f,height:v}=t.data.container.style;switch(p){case"justify-left":t.current.left=0;break;case"justify-center":t.current.left=f/2-t.current.width/2;break;case"justify-right":t.current.left=f-t.current.width;break;case"align-top":t.current.top=0;break;case"align-center":t.current.top=v/2-t.current.height/2;break;case"align-bottom":t.current.top=v-t.current.height;break}}return(p,f)=>{const v=w("el-col"),m=w("el-row"),d=w("el-divider"),h=w("el-button"),k=w("el-tooltip"),U=w("el-button-group"),_=w("el-checkbox-button"),y=w("el-checkbox-group"),R=w("el-form");return S(t).current&&S(t).current.selected?(g(),q(R,{key:0,model:S(t).current,"label-width":"80px","label-position":"left"},{default:s(()=>[o(m,{gutter:10},{default:s(()=>[o(v,{span:12},{default:s(()=>[o(ce,{modelValue:S(t).current.left,"onUpdate:modelValue":f[0]||(f[0]=H=>S(t).current.left=H),prefix:"X"},null,8,["modelValue"])]),_:1}),o(v,{span:12},{default:s(()=>[o(ce,{modelValue:S(t).current.top,"onUpdate:modelValue":f[1]||(f[1]=H=>S(t).current.top=H),prefix:"Y"},null,8,["modelValue"])]),_:1})]),_:1}),o(m,{gutter:10},{default:s(()=>[o(v,{span:12},{default:s(()=>[o(ce,{modelValue:S(t).current.width,"onUpdate:modelValue":f[2]||(f[2]=H=>S(t).current.width=H),prefix:"W"},null,8,["modelValue"])]),_:1}),o(v,{span:12},{default:s(()=>[o(ce,{modelValue:S(t).current.height,"onUpdate:modelValue":f[3]||(f[3]=H=>S(t).current.height=H),prefix:"H"},null,8,["modelValue"])]),_:1})]),_:1}),o(m,{gutter:10},{default:s(()=>[o(v,{span:12},{default:s(()=>[o(ce,{modelValue:S(t).current.angle,"onUpdate:modelValue":f[4]||(f[4]=H=>S(t).current.angle=H),prefix:"旋转"},null,8,["modelValue"])]),_:1}),o(v,{span:12,class:"es-col"},{default:s(()=>[x("div",{class:"text-btn",onClick:f[5]||(f[5]=H=>u(-45))},[o(Ue,{name:"rotate-left"}),f[8]||(f[8]=V(" -45° ",-1))]),x("div",{class:"text-btn",onClick:f[6]||(f[6]=H=>u(45))},[o(Ue,{name:"rotate-right"}),f[9]||(f[9]=V(" +45° ",-1))])]),_:1})]),_:1}),o(d),o(m,null,{default:s(()=>[o(U,{style:{display:"inline-flex"}},{default:s(()=>[(g(),$(B,null,Y(n,H=>o(k,{placement:"top","show-after":300,content:H.label},{default:s(()=>[o(h,{style:{flex:"1"},onClick:A=>c(H.value)},{default:s(()=>[o(Ue,{name:H.value,size:20},null,8,["name"])]),_:2},1032,["onClick"])]),_:2},1032,["content"])),64))]),_:1})]),_:1}),o(m,null,{default:s(()=>[o(U,{style:{display:"inline-flex"}},{default:s(()=>[(g(),$(B,null,Y(l,H=>o(k,{placement:"top","show-after":300,content:H.label},{default:s(()=>[o(h,{style:{flex:"1"},onClick:A=>c(H.value)},{default:s(()=>[o(Ue,{name:H.value,size:20},null,8,["name"])]),_:2},1032,["onClick"])]),_:2},1032,["content"])),64))]),_:1})]),_:1}),o(d),o(m,null,{default:s(()=>[o(y,{modelValue:a.value,"onUpdate:modelValue":f[7]||(f[7]=H=>a.value=H),size:"small",onChange:i},{default:s(()=>[(g(),$(B,null,Y(r,H=>o(k,{placement:"top","show-after":300,content:H.label},{default:s(()=>[o(_,{style:{flex:"1"},label:H.value,value:H.value},{default:s(()=>[o(Ue,{name:H.value,size:20},null,8,["name"])]),_:2},1032,["label","value"])]),_:2},1032,["content"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])):N("",!0)}}}),qo=te(To,[["__scopeId","data-v-1ae33cb6"]]),Bo={class:"es-layout-info"},Ao={class:"es-info-tabs"},Po=["onClick"],Oo=W({__name:"Info",setup(e){const t=ie(),n={样式:Fo,位置:qo,画布属性:Nn},l=["样式","位置"],a=["画布属性"],r=L("画布属性"),u=j(()=>t.current&&t.current.selected?l:a),i=j(()=>n[r.value]);return xe(()=>t.current.selected,()=>{r.value=t.current.selected?l[0]:a[0]},{immediate:!0}),(c,p)=>(g(),$("div",Bo,[x("div",Ao,[(g(!0),$(B,null,Y(u.value,f=>(g(),$("div",{class:be(["es-info-tab",{active:f===r.value}]),onClick:v=>r.value=f},ne(f),11,Po))),256))]),x("div",{class:"es-info-style",onClick:p[0]||(p[0]=ve(()=>{},["stop"]))},[(g(),q(Ke(i.value)))])]))}});function jo(e,t){const n=L();function l(u){let i=!1;e.value.elements.forEach(c=>{c.selected&&(c.selected=!1,i=!0)}),i||t.value.onMouseDown(u)}function a(u){for(let i=0;i<e.value.elements.length;i++){const c=e.value.elements[i],p=u.left<c.left&&u.left+u.width>c.left+c.width,f=u.top<c.top&&u.top+u.height>c.top+c.height;p&&f?c.selected=!0:c.selected=!1}}function r(){n.value=e.value.elements.some(u=>u.selected),n.value&&setTimeout(()=>{document.addEventListener("click",()=>{n.value=!1},{once:!0})})}return{areaSelected:n,onEditorMouseDown:l,onAreaMove:a,onAreaUp:r}}function Wt(e){const t={current:-1,queue:[],commands:{},commandArray:[],destoryArray:[]},n=a=>{t.commandArray.push(a),t.commands[a.name]=(...r)=>{const{redo:u,undo:i}=a.execute(...r);if(u&&u(),a.pushQueue){let{queue:c}=t;c.length>0&&(c=c.slice(0,t.current+1),t.queue=c),t.queue.push({redo:u,undo:i}),t.current+=1}}};n({name:"redo",keyboard:"ctrl+y",execute(){return{redo(){let a=t.queue[t.current+1];a&&(a.redo&&a.redo(),t.current++)}}}}),n({name:"undo",keyboard:"ctrl+z",execute(){return{redo(){if(t.current===-1)return;let a=t.queue[t.current];a&&(a.undo&&a.undo(),t.current--)}}}}),n({name:"drag",pushQueue:!0,init(){const a=()=>{this.before=Ie(e.data.elements)},r=()=>t.commands.drag();return ye.on("dragstart",a),ye.on("dragend",r),()=>{ye.off("dragstart",a),ye.off("dragend",r)}},execute(){const a=this.before,r=e.data.elements;return{redo(){e.data={...e.data,elements:r}},undo(){e.data={...e.data,elements:a}}}}}),n({name:"updateContainer",pushQueue:!0,execute(a){const r={before:e.data,after:a};return{redo(){e.data=r.after},undo(){e.data=r.before}}}}),t.commandArray.forEach(a=>{a.init&&t.destoryArray.push(a.init())});const l=()=>{const a=r=>{const{ctrlKey:u,key:i}=r,c=[];u&&c.push("ctrl"),c.push(i);const p=c.join("+");t.commandArray.forEach(({name:f,keyboard:v})=>{v&&v===p&&(t.commands[f](),r.preventDefault())})};return window.addEventListener("keydown",a),()=>{window.removeEventListener("keydown",a)}};return me(()=>{t.destoryArray.push(l())}),fl(()=>{t.destoryArray.forEach(a=>a&&a())}),t}const No=W({__name:"Dialog",props:{option:{type:Object,default:()=>({})}},setup(e,{expose:t}){const l=Ee({option:e.option,visible:!1});let a;const r=p=>{l.option=p,l.visible=!0,Rt(()=>{a=vl.edit("esEditor",{maxLines:34,minLines:34,fontSize:14,theme:"ace/theme/one_dark",mode:"ace/mode/json5",tabSize:4,readOnly:!1}),a.setValue(JSON.stringify(JSON.parse(l.option.content),null,4))})},u=()=>{l.visible=!1},i=()=>{const{confirm:p}=l.option;p&&p(a&&a.getValue()),u()},c=()=>{if(!a)return;const p=document.createElement("a"),f=Ht().format("YYYY-MM-DD-HH-mm-ss")+".json";p.download=f;const v=new Blob([a.getValue()]),m=URL.createObjectURL(v);p.href=m,p.click(),URL.revokeObjectURL(m)};return t({open:r,close:u}),(p,f)=>(g(),q(S(ml),ke({modelValue:l.visible,"onUpdate:modelValue":f[0]||(f[0]=v=>l.visible=v)},l.option,{draggable:""}),{footer:s(()=>[o(S(lt),{onClick:u},{default:s(()=>[...f[1]||(f[1]=[V("取消",-1)])]),_:1}),o(S(lt),{type:"primary",onClick:i},{default:s(()=>[...f[2]||(f[2]=[V("保存编辑",-1)])]),_:1}),o(S(lt),{type:"primary",onClick:c},{default:s(()=>[...f[3]||(f[3]=[V("导出JSON",-1)])]),_:1})]),default:s(()=>[f[4]||(f[4]=x("div",{id:"esEditor"},null,-1))]),_:1},16,["modelValue"]))}});let Ne=null;function Go(e){if(!Ne){const{container:n}=mt(),l=document.createElement("div");Ne=o(No,{option:e}),ft(Ne,l),n.appendChild(l.firstElementChild)}const{open:t}=Ne.component.exposed;t(e)}const Yo={key:0},Wo=["onClick"],Jo=W({__name:"Menu",props:{option:{type:Object,default:()=>({})}},setup(e,{expose:t}){const n=e,l=L(),a=L(),r=Ee({option:n.option,visible:!1,top:0,left:0}),u=j(()=>({left:r.left+"px",top:r.top+"px"})),i=j(()=>({left:r.option.clientX+"px",top:r.option.clientY+"px"})),c=[hl(),_l(),bl(10)],p=m=>{r.option=m,r.visible=!0,gl(l.value,a.value,{middleware:c}).then(d=>{r.left=d.x,r.top=d.y})},f=()=>{r.visible=!1},v=m=>{r.option.onClick&&r.option.onClick(m),f()};return me(()=>{document.addEventListener("mousedown",f)}),Ze(()=>{document.removeEventListener("mousedown",f)}),t({open:p,close:f}),(m,d)=>(g(),$("div",null,[x("div",{ref_key:"triggerRef",ref:l,class:"es-trigger",style:K(i.value)},null,4),dt(x("div",{ref_key:"menuRef",ref:a,class:"es-contentmenu",style:K(u.value),onClick:d[0]||(d[0]=ve(()=>{},["stop"])),onMousedown:d[1]||(d[1]=ve(()=>{},["stop"]))},[r.option.items?(g(),$("ul",Yo,[(g(!0),$(B,null,Y(r.option.items,h=>(g(),$("li",{onClick:k=>v(h)},ne(h.label),9,Wo))),256))])):N("",!0)],36),[[ct,r.visible]])]))}}),Qo=te(Jo,[["__scopeId","data-v-cab92a19"]]);let Ge=null;function Et(e){if(!Ge){const{container:n}=mt(),l=document.createElement("div");Ge=o(Qo,{option:e}),ft(Ge,l),n.appendChild(l.firstElementChild)}const{open:t}=Ge.component.exposed;t(e)}const Xo=["accept"],Ko=W({__name:"Upload",props:{option:{type:Object,required:!0}},setup(e,{expose:t}){const n={json:".json",image:"image/*"},l=e,a={option:l.option},r=L(),u=p=>{a.option=p;let f=n[p.resultType];p.accept&&(f=p.accept),r.value.setAttribute("accept",f),r.value.click()},i=async p=>{if(!a.option||!a.option.onChange)return;const{resultType:f,onChange:v}=a.option;let m=p;const d=p.target.files[0];["json","text"].includes(f)?m=await c(d):f==="image"&&(m=await c(d,f)),v(m),r.value.value=""},c=(p,f="text")=>new Promise(v=>{const m=new FileReader;m.addEventListener("load",d=>{const h=d.target.result||"{}";v(h)}),f==="text"?m.readAsText(p):m.readAsDataURL(p)});return me(()=>{u(l.option)}),t({open:u}),(p,f)=>{var v;return g(),$("input",{ref_key:"inpurRef",ref:r,type:"file",accept:(v=a.option)==null?void 0:v.accept,class:"es-upload",onChange:i},null,40,Xo)}}}),Zo=te(Ko,[["__scopeId","data-v-b9ed9b62"]]);let Ye=null;function It(e){if(Ye){const{open:t}=Ye.component.exposed;t(e)}else{const{container:t}=mt(),n=document.createElement("div");Ye=o(Zo,{option:e}),ft(Ye,n),t.appendChild(n.firstElementChild)}}const ea={"ctrl+x":"cut","ctrl+c":"copy","ctrl+v":"paste",Delete:"remove","ctrl+a":"selectAll","ctrl+d":"duplicate"};function ta(e,t){const n=j(()=>{var m;return((m=t.value)==null?void 0:m.getBoundingClientRect())||{}});let l=null,a=null;const r=m=>m?e.value.elements.findIndex(d=>d.id===m.id):-1,u=(m,d)=>{[e.value.elements[m],e.value.elements[d]]=[e.value.elements[d],e.value.elements[m]]},i=m=>{if(!m)return;const d=Ie(m);d.id=Ve(),e.value.elements.push(d)},c={remove(){const m=r(l);m>-1&&e.value.elements.splice(m,1)},cut(m){a=m,c.remove(m)},copy(m){a=m},duplicate(m){const d=Ie(m);d.left+=10,d.top+=10,i(d)},top(m){const d=r(m),[h]=e.value.elements.splice(d,1);e.value.elements.push(h)},bottom(m){const d=r(m),[h]=e.value.elements.splice(d,1);e.value.elements.unshift(h)},group(){e.value.elements=on(e.value.elements,n.value)},ungroup(){e.value.elements=an(e.value.elements,n.value)},paste(m,d,h){if(!a)return;const k=Ie(a);k.left=d-n.value.left,k.top=h-n.value.top,i(k)},selectAll(){e.value.elements.forEach(m=>m.selected=!0)},lock(m){const d=r(m);e.value.elements[d].disabled=!e.value.elements[d].disabled},moveUp(m){const d=r(m);d>=e.value.elements.length-1||u(d,d+1)},moveDown(m){const d=r(m);d<=0||u(d,d-1)}},p=(m,d)=>{m.preventDefault();const{clientX:h,clientY:k}=m;l=Ie(d);const U=e.value.elements.filter(H=>H.selected),_=[{action:"remove",label:"删除"},{action:"cut",label:"剪切"},{action:"copy",label:"复制"},{action:"duplicate",label:"创建副本"},{action:"top",label:"置顶"},{action:"bottom",label:"置底"},{action:"moveUp",label:"上移一层"},{action:"moveDown",label:"下移一层"}];!d.group&&U.length>1?_.push({action:"group",label:"组合"}):d.group&&_.push({action:"ungroup",label:"取消组合"});const y=l.disabled,R={action:"lock",label:"锁定 / 解锁"};y||_.push(R),Et({clientX:h,clientY:k,items:y?[R]:_,onClick:({action:H})=>{c[H]&&c[H](l)}})},f=m=>{const{clientX:d,clientY:h}=m;Et({clientX:d,clientY:h,items:[{action:"paste",label:"在这粘贴"},{action:"selectAll",label:"全选"}],onClick({action:k}){k==="paste"?c.paste(l,d,h):c[k]&&c[k](l)}})},v=m=>{const{ctrlKey:d,key:h}=m,k=[];d&&k.push("ctrl"),k.push(h);const U=k.join("+"),_=ea[U];c[_]&&(m.preventDefault(),l=e.value.elements.find(y=>y.selected)||null,c[_](l))};return me(()=>{window.addEventListener("keydown",v)}),Lt(()=>{window.removeEventListener("keydown",v)}),{editorRect:n,onContextmenu:p,onEditorContextMenu:f}}let ot;const at="es-editor-container-1996",mt=()=>{if(!ot&&!document.querySelector(`#${at}`)){const e=document.createElement("div");e.id=at,ot=e,document.body.appendChild(e)}return{container:ot,selector:at}},la=W({__name:"index",props:{modelValue:{type:Object,required:!0,default:()=>({})},commands:{type:Object}},setup(e){const t=ie(),n=e,l=L(null),a=j({get:()=>n.modelValue,set:()=>{}}),r=j(()=>{var E;return((E=n.modelValue.container)==null?void 0:E.gridSize)||10}),u=j(()=>{var E;return((E=n.modelValue.container)==null?void 0:E.scaleRatio)||1}),i=j(()=>{const{width:E,height:z}=a.value.container.style;return{...a.value.container.style,width:E+"px",height:z+"px",transform:`scale(${u.value})`,transformOrigin:"top left"}}),c=L({startX:0,startY:0,disX:0,disY:0}),p=j({get:()=>t.current,set:E=>{t.current=E}}),f=L(),{areaSelected:v,onEditorMouseDown:m,onAreaMove:d,onAreaUp:h}=jo(a,f),{editorRect:k,onContextmenu:U,onEditorContextMenu:_}=ta(a,l);function y(E){p.value=E,v.value||a.value.elements.filter(F=>F.selected).length===1&&a.value.elements.forEach(F=>F.selected=!1),p.value.selected=!0,c.value.startX=p.value.left,c.value.startY=p.value.top,ye.emit("dragstart")}function R(){ye.emit("dragend")}function H(E){const z=E.left-c.value.startX,F=E.top-c.value.startY;a.value.elements.forEach(J=>{var Z;J.selected&&((Z=p.value)==null?void 0:Z.id)!==J.id&&(J.left+=z,J.top+=F)}),c.value.startX=E.left,c.value.startY=E.top}function A(E,z){Object.keys(E).forEach(F=>{z[F]=E[F]})}const P={dblclick:()=>{!p.value||!p.value.selected||(p.value.editable=!0)},click:()=>{p.value&&(p.value.editable=!1)}};function b(E="on"){["dblclick","click"].forEach(F=>{E==="on"?document.addEventListener(F,P[F]):document.removeEventListener(F,P[F])})}return me(()=>{b()}),Lt(()=>{b("off")}),(E,z)=>(g(),$("div",{ref_key:"editorRef",ref:l,class:"es-editor",style:K(i.value),onMousedown:z[2]||(z[2]=(...F)=>S(m)&&S(m)(...F)),onContextmenu:z[3]||(z[3]=ve((...F)=>S(_)&&S(_)(...F),["prevent"]))},[(g(!0),$(B,null,Y(a.value.elements,(F,J)=>(g(),q(S(yl),ke({rotatable:""},{ref_for:!0},S(un)(F,["style","props"]),{style:{position:"absolute"},"grid-x":r.value,"grid-y":r.value,scaleRatio:u.value,boundary:"",markline:a.value.container.markline.show,snap:a.value.container.snap,"snap-threshold":a.value.container.gridSize,onDragStart:Z=>y(F),onDragEnd:R,onDrag:H,onChange:Z=>A(Z,F),onContextmenu:ve(Z=>S(U)(Z,F),["stop"]),onMousedown:z[0]||(z[0]=ve(()=>{},["stop"])),onClick:z[1]||(z[1]=ve(()=>{},["stop"]))}),{default:s(()=>[(g(),q(Ke(F.component),ke({element:F},{ref_for:!0},F.props,{style:{...S(Xe)(F.style,!1),width:"100%",height:"100%",display:"flex"}}),{default:s(()=>[F.text?(g(),q(Gt,{key:0,editable:F.editable,text:F.text,id:J,style:K(S(Xe)(F.style))},null,8,["editable","text","id","style"])):N("",!0)]),_:2},1040,["element","style"]))]),_:2},1040,["grid-x","grid-y","scaleRatio","markline","snap","snap-threshold","onDragStart","onChange","onContextmenu"]))),256)),a.value.container.snapToGrid?(g(),q(_n,{key:0,grid:a.value.container.gridSize,"border-color":a.value.container.gridColor},null,8,["grid","border-color"])):N("",!0),o(Ll,{ref_key:"areaRef",ref:f,onMove:S(d),onUp:S(h)},null,8,["onMove","onUp"])],36))}}),na=te(la,[["__scopeId","data-v-19f12345"]]),oa={class:"es-preview-tools"},aa=W({__name:"Preview",setup(e){const t=ie(),n=L(),l=j(()=>{const{width:i,height:c}=t.data.container.style;return{...t.data.container.style,width:i+"px",height:c+"px",transform:`scale(${a.value})`,transformOrigin:"top left"}}),a=j(()=>{var i;return((i=t.data.container)==null?void 0:i.scaleRatio)||1}),r=()=>{var c;const{width:i}=t.data.container.style;ge.emit("sendEditorHtml",{data:`<body style="width: ${i}px;">${(c=n.value)==null?void 0:c.outerHTML}</body>`}),t.preview=!1};function u(i){var v;const{width:c,height:p}=t.data.container.style,f=Ht().format("YYYY-MM-DD-HH-mm-ss")+"."+i;if(i==="html"){const m=new Blob([`<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8" /><meta http-equiv="content-type" content="text/html;charset=utf-8" /></head><body style="width: ${c}px;">${(v=n.value)==null?void 0:v.outerHTML}</body></html>`],{type:"text/html"}),d=document.createElement("a");d.download=f;const h=URL.createObjectURL(m);d.href=h,document.body.appendChild(d),d.click(),URL.revokeObjectURL(h),document.body.removeChild(d);return}wl(n.value).then(m=>{if(i==="pdf"){const d=new xl("l","pt","a4"),h=m.toDataURL();return d.addImage(h,"PNG",0,0,+c,+p),d.save(f)}m.toBlob(d=>{const h=document.createElement("a");h.download=f;const k=URL.createObjectURL(d);h.href=k,h.click(),URL.revokeObjectURL(k)})})}return Ze(()=>{ge.off("getEditorHtml")}),(i,c)=>{const p=w("el-button"),f=w("el-dialog");return g(),q(f,{draggable:"",fullscreen:""},{default:s(()=>[x("div",oa,[o(p,{type:"primary",onClick:c[0]||(c[0]=v=>u("png"))},{default:s(()=>[...c[4]||(c[4]=[V("PNG",-1)])]),_:1}),o(p,{type:"primary",onClick:c[1]||(c[1]=v=>u("jpg"))},{default:s(()=>[...c[5]||(c[5]=[V("JPG",-1)])]),_:1}),o(p,{type:"primary",onClick:c[2]||(c[2]=v=>u("pdf"))},{default:s(()=>[...c[6]||(c[6]=[V("PDF",-1)])]),_:1}),o(p,{type:"primary",onClick:c[3]||(c[3]=v=>u("html"))},{default:s(()=>[...c[7]||(c[7]=[V("HTML",-1)])]),_:1}),o(p,{type:"primary",onClick:r},{default:s(()=>[...c[8]||(c[8]=[V("保存到插件",-1)])]),_:1})]),x("div",{class:"es-preview-body",style:K({width:l.value.width,height:l.value.height,border:"1px dashed gray"})},[x("div",{ref_key:"editorRef",ref:n,class:"es-editor preview",style:K(l.value)},[(g(!0),$(B,null,Y(S(t).data.elements,v=>(g(),q(Ke(v.component),ke({ref_for:!0},v.props,{style:{...S(Xe)(v.style,!1),width:v.width+"px",height:v.height+"px",position:"absolute",left:v.left+"px",top:v.top+"px"}}),{default:s(()=>[v.text?(g(),q(Gt,{key:0,text:v.text,style:K(S(Xe)(v.style))},null,8,["text","style"])):N("",!0)]),_:2},1040,["style"]))),256))],4)],4)]),_:1})}}}),sa=te(aa,[["__scopeId","data-v-0199ea2e"]]),ra={class:"es-layout-container"},ua=W({__name:"index",props:{data:{type:Object,required:!0},theme:{type:String}},setup(e,{expose:t}){const n=e,l=ie(),a=L("transparent"),r=L(),{commands:u}=Wt(l),i=[{label:"返回",icon:kl,handler:()=>{ge.emit("goBack",!0)}},{label:"撤销",icon:Cl,handler:u.undo},{label:"重做",icon:Vl,handler:u.redo},{label:"导出",icon:$l,handler:()=>{Go({title:"导出",content:JSON.stringify(l.data),confirm(_){u.updateContainer(JSON.parse(_))}})}},{label:"导入",icon:Sl,handler:()=>{It({resultType:"json",onChange(_){u.updateContainer(JSON.parse(_))}})}},{label:"插入图片",icon:Ml,handler:()=>{It({resultType:"image",onChange(_){const R={id:Ve(),component:"img",props:{src:_,width:200,onLoadOnce(H){if(R.props.loaded)return;const{naturalHeight:A,naturalWidth:P}=H.target,b=l.data.elements.find(z=>z.id===R.id);let E=200/P;E>1&&(E=1),b.width=P*E,b.height=A*E,R.props.loaded=!0}}};l.data.elements.push(R)}})}},{label:"保存",icon:zl,handler:()=>l.preview=!0}],c=j(()=>{const{width:_,height:y}=l.data.container.style,R={},H=l.initWidth>+_,A=l.initHeight>+y;return H&&(R.position="absolute",R.left="50%",R.transform="translateX(-50%)"),A&&(R.position="absolute",R.top="50%",R.transform="translateY(-50%)"),H&&A&&(R.transform="translate(-50%, -50%)"),R}),p=j(()=>{var _;return((_=r.value)==null?void 0:_.getBoundingClientRect())||{}});let f=null;function v(_){ye.emit("dragstart"),f=_}function m(){ye.emit("dragend")}function d(_){_.dataTransfer.dropEffect="move"}function h(_){if(!f)return;const y=f.component==="es-icon",R=[...l.data.elements,{...f,equalProportion:y,left:_.offsetX-f.width/2,top:_.offsetY-f.height/2,id:Ve(),style:f.style||{}}];l.data.elements=R,f=null}function k(){l.initWidth=Math.floor(p.value.width),l.initHeight=Math.floor(p.value.height-7),l.data.container.style.width=l.initWidth,l.data.container.style.height=l.initHeight}function U(){return{...l.data}}return xe(()=>n.data,()=>{l.update(n.data)},{immediate:!0}),xe(()=>n.theme,()=>{n.theme&&(l.theme=n.theme)},{immediate:!0}),me(()=>{k(),document.documentElement.className=="dark"?a.value="transparent":a.value="#EFF2F5",ge.on("themeColor",_=>{_=="dark"?a.value="transparent":a.value="#EFF2F5"})}),Ze(()=>{ge.off("themeColor")}),t({tools:i,getData:U}),(_,y)=>(g(),$(B,null,[x("div",ra,[o(qn,{onDragstart:v,onDragend:m}),x("div",{ref_key:"mainRef",ref:r,class:"es-layout-main",style:K(`border: 10px solid ${a.value};`)},[x("div",{class:"es-editor-container",style:K(c.value)},[o(na,{modelValue:S(l).data,"onUpdate:modelValue":y[0]||(y[0]=R=>S(l).data=R),commands:S(u),onDragenter:d,onDrop:h,onDragover:y[1]||(y[1]=ve(()=>{},["prevent"]))},null,8,["modelValue","commands"])],4)],4),o(Oo,{modelValue:S(l).current,"onUpdate:modelValue":y[2]||(y[2]=R=>S(l).current=R)},null,8,["modelValue"])]),o(sa,{modelValue:S(l).preview,"onUpdate:modelValue":y[3]||(y[3]=R=>S(l).preview=R)},null,8,["modelValue"])],64))}});async function Jt(e){return(await Ul(()=>import("./index-ff245813.js").then(n=>n.i),["assets/index-ff245813.js","assets/index-1781b57c.js","assets/index-a3fe83bc.css"])).MD5(e).toString()}const ia={class:"es-header-toolbar"},da=["onClick"],ca=W({__name:"index",emits:["outerHTML","mounted"],setup(e,{emit:t}){const n=it(),l=L(""),a=L(),r=t,u=L(null),i=L({container:{markline:{show:!0,color:""},snapToGrid:!0,snap:!0,gridSize:10,gridColor:"",style:{},scaleRatio:1},elements:[]}),c=j(()=>{var m;return((m=u.value)==null?void 0:m.tools)||[]});function p(m){typeof m.handler=="function"&&m.handler()}const f=()=>{n.scene=1},v=async()=>{var d;const m=await Jt(l.value);r("outerHTML",{hash:m,data:l.value,json:JSON.stringify((d=u.value)==null?void 0:d.getData())}),ae.success("保存成功！"),n.scene=1};return me(()=>{r("mounted","Please set project json!"),ge.on("sendEditorHtml",m=>{l.value=m.data,v()}),ge.on("goBack",m=>{f()})}),Ze(()=>{ge.off("sendEditorHtml"),ge.off("goBack")}),(m,d)=>{const h=w("el-button");return g(),$(B,null,[x("div",{class:"es-layout",onClick:d[0]||(d[0]=ve(()=>{},["stop"]))},[x("div",ia,[(g(!0),$(B,null,Y(c.value,k=>(g(),$("div",{class:"es-tool-btn",onClick:U=>p(k)},[o(h,{icon:k.icon},{default:s(()=>[V(ne(k.label),1)]),_:2},1032,["icon"])],8,da))),256))]),o(S(ua),{ref_key:"editorRef",ref:u,data:i.value,theme:"dark"},null,8,["data"])]),o(El,{ref_key:"codeRef",ref:a},null,512)],64)}}});const pa=[{prop:"e.msg",tip:"触发此功能的消息"},{prop:"e.post_type",tip:"触发此功能消息类型"},{prop:"e.message_id",tip:"消息唯一标识符"},{prop:"e.user_id",tip:"用户QQ号或Id"},{prop:"e.time",tip:"消息时间戳"},{prop:"e.seq",tip:"消息序号"},{prop:"e.rand",tip:"神秘的数字"},{prop:"e.font",tip:"发送者使用的字体"},{prop:"e.raw_message",tip:"原始消息摘要"},{prop:"e.message_type",tip:"消息类型(group|private|guild)"},{prop:"e.sender.user_id",tip:"发送者QQ号或Id(同e.user_id)"},{prop:"e.sender.nickname",tip:"发送者个人昵称"},{prop:"e.sender.sub_id",tip:"发送者虚拟id"},{prop:"e.sender.card",tip:"发送者所在群昵称"},{prop:"e.sender.sex",tip:"发送者性别"},{prop:"e.sender.age",tip:"发送者年龄"},{prop:"e.sender.area",tip:"发送者居住地"},{prop:"e.sender.level",tip:"发送者群聊等级"},{prop:"e.sender.role",tip:"发送者角色(owner|master|admin)"},{prop:"e.sender.title",tip:"头衔"},{prop:"e.group_id",tip:"群号或ID"},{prop:"e.group_name",tip:"群昵称"},{prop:"e.block",tip:"(true|false)"},{prop:"e.sub_type",tip:"消息子类别"},{prop:"e.anonymous",tip:"匿名者信息"},{prop:"e.atme",tip:"是否@我(true|false)"},{prop:"e.atall",tip:"是否@所有人(true|false)"},{prop:"e.self_id",tip:"机器人QQ或ID"},{prop:"e.isGroup",tip:"是否来自群(true|false)"},{prop:"e.user_avatar",tip:"用户头像地址"},{prop:"e.group_avatar",tip:"用户所在群聊头像地址"},{prop:"e.user_name",tip:"用户昵称"},{prop:"e.isMaster",tip:"是否是主人"}],fa=e=>{let t=window.getSelection();if(!t.rangeCount)return;let n=t.getRangeAt(0);n.toString()&&n.deleteContents();let l=Date.now(),a=document.createElement("span");a.contentEditable="false",a.className="variable-template-Text",a.innerHTML=`<span id="variable${l}" style="display: none; color: green; margin: 0 5px;">${e.tip}</span>\${ ${e.prop} }`,a.onmouseover=()=>{let u=document.getElementById(`variable${l}`);u&&(u.style.display="inline-block")},a.onmouseleave=()=>{let u=document.getElementById(`variable${l}`);u&&(u.style.display="none")};let r=n.cloneRange();r.setStart(n.startContainer,n.startOffset-1),r.startContainer.nodeType===Node.TEXT_NODE&&r.startOffset>=0?(r.collapse(!0),r.insertNode(a),n=document.createRange(),n.setStartAfter(a),n.collapse(!0),t.removeAllRanges(),t.addRange(n)):(n.insertNode(a),n=document.createRange(),n.setStartAfter(a),n.collapse(!0),t.removeAllRanges(),t.addRange(n))},ma=W({__name:"index",props:{fontSize:{type:String,default:"16px"},color:{type:String,default:"rgba(220,223,230,0.5)"},width:{type:String,default:"100%"},minWidth:{type:String,default:"100px"},lineHeight:{type:String,default:"20px"},cusInputValue:{type:String,default:""}},emits:["innerText"],setup(e,{expose:t,emit:n}){const l=n,a=L();let r=0;const u=L(pa),i=L(!1),c=e;xe(()=>c.cusInputValue,d=>{Rt(()=>{d?a.value.innerText=d:a.value.innerText=""})},{immediate:!0});const p=()=>{l("innerText",a.value.innerText);const d=a.value.innerText.match(/\//g)||[];d.length==r+1&&(i.value=!0),r=d.length},f=()=>a.value.innerText,v=d=>{a.value.innerText=d},m=d=>{i.value=!1,fa(d)};return t({getText:f,setText:v}),(d,h)=>{const k=w("el-table-column"),U=w("el-button"),_=w("el-table"),y=w("el-dialog");return g(),$(B,null,[x("div",{class:"cus_input",contenteditable:!0,ref_key:"input",ref:a,onInput:p,style:K({width:e.width,lineHeight:e.lineHeight,border:"2px solid "+e.color,fontSize:e.fontSize,minWidth:e.minWidth})},null,36),o(y,{modelValue:i.value,"onUpdate:modelValue":h[0]||(h[0]=R=>i.value=R),title:"事件变量",width:"360"},{default:s(()=>[o(_,{data:u.value,style:{"max-height":"400px","overflow-y":"scroll"}},{default:s(()=>[o(k,{prop:"prop"}),o(k,{prop:"tip"}),o(k,{width:"80"},{default:s(({row:R,$index:H})=>[o(U,{size:"small",onClick:A=>m(R)},{default:s(()=>[...h[1]||(h[1]=[V("插入",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1},8,["modelValue"])],64)}}});const va=te(ma,[["__scopeId","data-v-d9b444d5"]]),We=()=>({id:"",render_data:{label:"",visited_label:"",style:1},action:{type:1,permission:{type:2,specify_user_ids:[],specify_role_ids:[]},data:"",reply:!1,enter:!1,anchor:0,click_limit:99999,at_bot_show_channel_list:!1,unsupport_tips:""}}),ga=()=>({custom_template_id:"101993071_1658748972",content:"",params:[{tempString:"",key:"title",values:["标题"]},{tempString:"",key:"image",values:["https://resource5-1255303497.cos.ap-guangzhou.myqcloud.com/abcmouse_word_watch/other/mkd_img.png"]},{tempString:"",key:"para1",values:["段落1"]},{tempString:"",key:"para2",values:["段落2"]},{tempString:"",key:"desc",values:["简介"]},{tempString:"",key:"content",values:["在这个子频道非常开心"]},{tempString:"",key:"link_introduction",values:["链接介绍"]},{tempString:"",key:"link",values:["https://www.qq.com"]}]}),ha={class:"seg-btn-row-box"},_a={class:"seg-btn-row"},ba={class:"seg-btn-row-add"},ya={class:"seg-btn-coloum",style:{display:"flex","justify-content":"space-between"}},wa=W({__name:"button",props:["btnContent"],emits:["update:btnContent"],setup(e,{emit:t}){const n=e,l=t,a=L(!1),r=L(""),u=L(),i=Ee({row:0,col:0,value:We()}),c=m=>{if(u.value.rows[m].buttons.length>=10){ae.warning("超出最大列数限制！");return}u.value.rows[m].buttons.push(We())},p=()=>{if(u.value.rows.length>=10){ae.warning("超出最大行数限制！");return}u.value.rows.push({buttons:[We()]})},f=(m,d,h)=>{a.value=!0,i.row=d,i.col=h,i.value=m},v=()=>{a.value=!1,u.value.rows[i.row].buttons.splice(i.col,1),u.value.rows[i.row].buttons.length==0&&u.value.rows.splice(i.row,1)};return xe(()=>n.btnContent,m=>{u.value=m},{immediate:!0,deep:!0}),(m,d)=>{const h=w("el-input"),k=w("el-form-item"),U=w("el-button"),_=w("el-card"),y=w("el-form"),R=w("el-radio"),H=w("el-radio-group"),A=w("el-tag"),P=w("el-switch"),b=w("el-input-number"),E=w("el-dialog");return g(),$(B,null,[o(y,null,{default:s(()=>[o(k,{label:"appid"},{default:s(()=>[o(h,{class:"seg-btn-appid",modelValue:u.value.appid,"onUpdate:modelValue":d[0]||(d[0]=z=>u.value.appid=z),placeholder:"你的QQbot id"},null,8,["modelValue"])]),_:1}),o(k,null,{default:s(()=>[o(_,{class:"seg-btn-content"},{default:s(()=>[(g(!0),$(B,null,Y(u.value.rows,(z,F)=>(g(),$("div",{class:"seg-btn-coloum",key:F,style:{display:"flex","justify-content":"space-between"}},[x("div",ha,[(g(!0),$(B,null,Y(z.buttons,(J,Z)=>(g(),$("div",_a,[o(U,{type:J.render_data.style==1?"primary":"",plain:J.render_data.style==1,size:"small",onClick:he=>f(J,F,Z)},{default:s(()=>[V(ne(J.render_data.label),1)]),_:2},1032,["type","plain","onClick"])]))),256))]),x("div",ba,[o(U,{class:"add-btn",icon:"Plus",onClick:J=>c(F)},null,8,["onClick"])])]))),128)),x("div",ya,[o(U,{icon:"Plus",onClick:p,style:{"margin-top":"3px"}})])]),_:1})]),_:1})]),_:1}),o(E,{modelValue:a.value,"onUpdate:modelValue":d[17]||(d[17]=z=>a.value=z),title:"按钮配置（重点配置星号）"},{footer:s(()=>[o(U,{type:"primary",size:"default",onClick:v},{default:s(()=>[...d[41]||(d[41]=[V(" 删除 ",-1)])]),_:1}),o(U,{type:"primary",size:"default",onClick:d[16]||(d[16]=z=>(a.value=!1,l("update:btnContent",u.value)))},{default:s(()=>[...d[42]||(d[42]=[V(" 确定 ",-1)])]),_:1})]),default:s(()=>[o(y,null,{default:s(()=>[o(k,null,{default:s(()=>[d[18]||(d[18]=x("div",{class:"sub-title"},"id",-1)),o(h,{placeholder:"按钮ID：在一个keyboard消息内设置唯一",modelValue:i.value.id,"onUpdate:modelValue":d[1]||(d[1]=z=>i.value.id=z)},null,8,["modelValue"])]),_:1}),o(k,null,{default:s(()=>[d[19]||(d[19]=x("div",{class:"sub-title"},[x("span",{class:"required"},"*"),V("render_data.label")],-1)),o(h,{modelValue:i.value.render_data.label,"onUpdate:modelValue":d[2]||(d[2]=z=>i.value.render_data.label=z),placeholder:"按钮上的文字"},null,8,["modelValue"])]),_:1}),o(k,null,{default:s(()=>[d[20]||(d[20]=x("div",{class:"sub-title"},[x("span",{class:"required"},"*"),V("render_data.visited_label")],-1)),o(h,{modelValue:i.value.render_data.visited_label,"onUpdate:modelValue":d[3]||(d[3]=z=>i.value.render_data.visited_label=z),placeholder:"点击后按钮的上文字"},null,8,["modelValue"])]),_:1}),o(k,null,{default:s(()=>[d[23]||(d[23]=x("div",{class:"sub-title"},[x("span",{class:"required"},"*"),V("render_data.style（按钮样式）")],-1)),o(H,{modelValue:i.value.render_data.style,"onUpdate:modelValue":d[4]||(d[4]=z=>i.value.render_data.style=z)},{default:s(()=>[o(R,{value:0},{default:s(()=>[...d[21]||(d[21]=[V("灰色线框",-1)])]),_:1}),o(R,{value:1},{default:s(()=>[...d[22]||(d[22]=[V("蓝色线框",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),o(k,null,{default:s(()=>[d[27]||(d[27]=x("div",{class:"sub-title"},[x("span",{class:"required"},"*"),V("action.type")],-1)),o(H,{modelValue:i.value.action.type,"onUpdate:modelValue":d[5]||(d[5]=z=>i.value.action.type=z)},{default:s(()=>[o(R,{value:0},{default:s(()=>[...d[24]||(d[24]=[V("跳转按钮：http 或 小程序 客户端识别 scheme",-1)])]),_:1}),o(R,{value:1},{default:s(()=>[...d[25]||(d[25]=[V("回调按钮：回调后台接口, data 传给后台",-1)])]),_:1}),o(R,{value:2},{default:s(()=>[...d[26]||(d[26]=[V("指令按钮：自动在输入框插入 @bot data",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),o(k,null,{default:s(()=>[d[32]||(d[32]=x("div",{class:"sub-title"},[x("span",{class:"required"},"*"),V("action.permission.type")],-1)),o(H,{modelValue:i.value.action.permission.type,"onUpdate:modelValue":d[6]||(d[6]=z=>i.value.action.permission.type=z)},{default:s(()=>[o(R,{value:0},{default:s(()=>[...d[28]||(d[28]=[V("指定用户可操作",-1)])]),_:1}),o(R,{value:1},{default:s(()=>[...d[29]||(d[29]=[V("仅管理者可操作",-1)])]),_:1}),o(R,{value:2},{default:s(()=>[...d[30]||(d[30]=[V("所有人可操作",-1)])]),_:1}),o(R,{value:3},{default:s(()=>[...d[31]||(d[31]=[V("指定身份组可操作（仅频道可用）",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),o(k,null,{default:s(()=>[d[33]||(d[33]=x("div",{class:"sub-title"},"action.permission.specify_user_ids（有权限的用户 id 的列表）",-1)),x("div",null,[o(h,{modelValue:r.value,"onUpdate:modelValue":d[7]||(d[7]=z=>r.value=z),size:"small"},null,8,["modelValue"]),o(U,{size:"small",icon:"Plus",onClick:d[8]||(d[8]=z=>i.value.action.permission.specify_user_ids&&i.value.action.permission.specify_user_ids.push(r.value)),style:{"margin-left":"5px"}}),x("span",null,[(g(!0),$(B,null,Y(i.value.action.permission.specify_user_ids,(z,F)=>(g(),q(A,{key:F,class:"mx-1",closable:"",onClose:J=>i.value.action.permission.specify_user_ids&&i.value.action.permission.specify_user_ids.splice(F,1),style:{"margin-left":"5px"}},{default:s(()=>[V(ne(z),1)]),_:2},1032,["onClose"]))),128))])])]),_:1}),o(k,null,{default:s(()=>[d[34]||(d[34]=x("div",{class:"sub-title"},[x("span",{class:"required"},"*"),V("action.data")],-1)),o(h,{modelValue:i.value.action.data,"onUpdate:modelValue":d[9]||(d[9]=z=>i.value.action.data=z),placeholder:"操作相关的数据"},null,8,["modelValue"])]),_:1}),o(k,null,{default:s(()=>[d[35]||(d[35]=x("div",{class:"sub-title"},"action.reply(指令按钮可用，指令是否带引用回复本消息，默认 false。支持版本 8983)",-1)),o(P,{modelValue:i.value.action.reply,"onUpdate:modelValue":d[10]||(d[10]=z=>i.value.action.reply=z),class:"ml-2","inline-prompt":"",style:{"--el-switch-on-color":"#13ce66"},"active-text":"Y","inactive-text":"N"},null,8,["modelValue"])]),_:1}),o(k,null,{default:s(()=>[d[36]||(d[36]=x("div",{class:"sub-title"},"action.enter(指令按钮可用，点击按钮后直接自动发送 data，默认 false。支持版本 8983)",-1)),o(P,{modelValue:i.value.action.enter,"onUpdate:modelValue":d[11]||(d[11]=z=>i.value.action.enter=z),class:"ml-2","inline-prompt":"",style:{"--el-switch-on-color":"#13ce66"},"active-text":"Y","inactive-text":"N"},null,8,["modelValue"])]),_:1}),o(k,null,{default:s(()=>[d[37]||(d[37]=x("div",{class:"sub-title"},"action.anchor(本字段仅在指令按钮下有效，设置后后会忽略 action.enter 配置。 设置为 1 时 ，点击按钮自动唤起启手Q选图器，其他值暂无效果。 仅支持手机端版本 8983+ 的单聊场景，桌面端不支持)",-1)),o(b,{modelValue:i.value.action.anchor,"onUpdate:modelValue":d[12]||(d[12]=z=>i.value.action.anchor=z)},null,8,["modelValue"])]),_:1}),o(k,null,{default:s(()=>[d[38]||(d[38]=x("div",{class:"sub-title"},"action.click_limit【已弃用】可操作点击的次数，默认不限",-1)),o(b,{modelValue:i.value.action.click_limit,"onUpdate:modelValue":d[13]||(d[13]=z=>i.value.action.click_limit=z)},null,8,["modelValue"])]),_:1}),o(k,null,{default:s(()=>[d[39]||(d[39]=x("div",{class:"sub-title"},"action.at_bot_show_channel_list【已弃用】指令按钮可用，弹出子频道选择器，默认 false",-1)),o(P,{modelValue:i.value.action.at_bot_show_channel_list,"onUpdate:modelValue":d[14]||(d[14]=z=>i.value.action.at_bot_show_channel_list=z),class:"ml-2","inline-prompt":"",style:{"--el-switch-on-color":"#13ce66"},"active-text":"Y","inactive-text":"N"},null,8,["modelValue"])]),_:1}),o(k,null,{default:s(()=>[d[40]||(d[40]=x("div",{class:"sub-title"},[x("span",{class:"required"},"*"),V("action.unsupport_tips")],-1)),o(h,{modelValue:i.value.action.unsupport_tips,"onUpdate:modelValue":d[15]||(d[15]=z=>i.value.action.unsupport_tips=z),placeholder:"客户端不支持本action的时候，弹出的toast文案"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}});const xa=te(wa,[["__scopeId","data-v-af5313ad"]]),ka={class:"sub-title"},Ca={style:{display:"flex",width:"100%","max-width":"100%"}},Va={style:{width:"50px"}},$a={style:{width:"50px"}},Sa=W({__name:"markdown",props:["mdContent"],emits:["update:mdContent"],setup(e,{emit:t}){const n=e,l=L(),a=r=>{l.value.content=r,ae.success("原生markdown保存成功，可点击页面保存添加到指令！")};return xe(()=>n.mdContent,r=>{l.value=r},{immediate:!0,deep:!0}),(r,u)=>{const i=w("el-input"),c=w("el-form-item"),p=w("el-divider"),f=w("el-button"),v=w("el-tag"),m=w("el-form");return g(),$(B,null,[o(m,null,{default:s(()=>[o(c,{label:"custom_template_id"},{default:s(()=>[o(i,{class:"seg-markdown-appid",modelValue:l.value.custom_template_id,"onUpdate:modelValue":u[0]||(u[0]=d=>l.value.custom_template_id=d),placeholder:"模板id"},null,8,["modelValue"])]),_:1}),o(c,null,{default:s(()=>[o(p,null,{default:s(()=>[...u[1]||(u[1]=[V("模板Markdown",-1)])]),_:1}),o(m,null,{default:s(()=>[(g(!0),$(B,null,Y(l.value.params,(d,h)=>(g(),q(c,null,{default:s(()=>[x("div",ka,ne(d.key),1),x("div",Ca,[o(i,{type:"textarea",modelValue:d.tempString,"onUpdate:modelValue":k=>d.tempString=k,style:{width:"100%"}},null,8,["modelValue","onUpdate:modelValue"]),x("div",Va,[o(f,{icon:"Plus",size:"small",onClick:k=>l.value.params.splice(h+1,0,JSON.parse(JSON.stringify(d))),style:{"margin-left":"5px"}},null,8,["onClick"]),o(f,{size:"small",icon:"Delete",style:{"margin-left":"5px"},onClick:k=>l.value.params.splice(h,1)},null,8,["onClick"])]),x("div",$a,[o(f,{icon:"ArrowUpBold",size:"small",onClick:k=>[l.value.params[h-1],l.value.params[h]]=[l.value.params[h],l.value.params[h-1]],style:{"margin-left":"5px"}},null,8,["onClick"]),o(f,{size:"small",icon:"ArrowDownBold",onClick:k=>[l.value.params[h],l.value.params[h+1]]=[l.value.params[h+1],l.value.params[h]],style:{"margin-left":"5px"}},null,8,["onClick"])])]),x("div",null,[o(f,{icon:"Plus",size:"small",onClick:k=>l.value.params[h].values.push(d.tempString),style:{"margin-left":"5px"}},null,8,["onClick"]),x("div",null,[(g(!0),$(B,null,Y(d.values,(k,U)=>(g(),q(v,{key:U,class:"mx-1",closable:"",onClose:_=>d.values.splice(U,1),style:{"margin-left":"5px","text-overflow":"ellipsis"}},{default:s(()=>[V(ne(k),1)]),_:2},1032,["onClose"]))),128))])])]),_:2},1024))),256))]),_:1})]),_:1})]),_:1}),o(p,null,{default:s(()=>[...u[2]||(u[2]=[V("原生Markdown(填了优先使用)",-1)])]),_:1}),o(Dt,{code:e.mdContent.content,ext:"md",isImmediate:!0,onGetCode:a},null,8,["code"])],64)}}});function Ma(){return`
/**
 * 编写后请记得先点击右上角保存代码，然后点击该页面顶部保存按钮即可保存此插件，保存后立即生效！
 * 这是自定义代码段，拥有JavaScript的正式环境，你可以像正常写yunzai的js插件一样编写执行逻辑
 * 该作用域提供了以下变量，包含了yunzai的基本API，你可以在全局直接使用
 * @params e 消息事件变量，包含了消息事件的全部属性和方法
 * @params Bot 全局Bot
 * @params puppeteer 渲染器，提供了如puppeteer.screenshot等方法
 * @params segment 消息段制作
 * @params loader yunzai的插件加载实例
 * @params logger yunzai日志打印
 */

/** 
 * 如果你使用npm方式安装小微插件，那么需要使用模块化导入yunzai的方法，例如const {Config} = await import('yunzai')
 * 如果你使用git安装小微插件，当前代码的执行路径为./plugins/micro-plugin/dist/apps/message.js
 * 换而言之，如果你需要相对路径导入模块，
 * 则需要使用 const puppeteer = await import('../../../../lib/puppeteer/puppeteer.js'),当然该方式不被推荐
 * 注意你不能在这里使用import xxx from 'xxx'语法，
 * 因为所有代码将在函数作用域执行，你可以使用以下的动态导入依赖示例
 */

const moment = (await import('moment')).default
const now = moment().format('YYYY/MM/DD HH:mm:ss')
logger.info('现在是：',now)
e.reply(now)
    `}const za={class:"root_box"},Ua={class:"plugin_box"},Ea={class:"title_bar"},Ia={class:"input_box"},Ra={class:"input_box"},Ha={key:1},La={class:"input_box"},Da={class:"input_box"},Fa={class:"input_box"},Ta={class:"face-box"},qa={class:"input_box"},Ba={class:"face-box",style:{height:"120px"}},Aa={class:"input_box"},Pa={class:"face-box",style:{height:"120px"}},Oa={class:"input_box"},ja={class:"face-box",style:{height:"60px"}},Na={class:"type-title",style:{"font-weight":"500","margin-bottom":"10px"}},Ga={class:"seg_card_box"},Ya={class:"type-title",style:{"font-weight":"500","margin-bottom":"10px"}},Wa={class:"seg_card_box"},Ja={class:"type-title",style:{"font-weight":"500","margin-bottom":"10px"}},Qa={key:0,class:"pic_editor"},Xa=W({__name:"index",props:["editedPluginValue"],emits:["savePlugin"],setup(e,{emit:t}){const n=ie(),{commands:l}=Wt(n),a=L(!1),r=Ee({path:"",curType:"",curMsgIndex:0}),u=L([]),i=L(""),c=L(),p=it(),f=t,v=e,m=Ee({}),d=L([]),h=L(""),k=L("");L("");const U=L(0),_=L([]),y=L({id:"",event:"message",reg:"",cron:"",delayTime:0,flag:"",isGlobal:!0,isAt:!1,isQuote:!1,groups:[],friends:[],message:[]}),R=L([{type:"代码",default:{type:"code",data:Ma(),hash:""}},{type:"文本",default:{type:"text",data:""}},{type:"图片",default:{type:"image",url:"",data:"",hash:"",json:""}},{type:"音频",default:{type:"record",url:"",data:""}},{type:"视频",default:{type:"video",url:"",data:""}},{type:"表情",default:{type:"face",data:0}},{type:"戳一戳",default:{type:"poke",data:0}},{type:"骰子",default:{type:"dice",data:1}},{type:"猜拳",default:{type:"rps",data:1}},{type:"Markdown",default:{type:"markdown",content:ga()}},{type:"按钮",default:{type:"button",content:{appid:"",rows:[{buttons:[We()]}]}}}]),H=L([{desc:"默认Flags",value:""},{desc:"(g)全局搜索",value:"g"},{desc:"(i)不区分大小写",value:"i"},{desc:"(m)多行搜索",value:"m"},{desc:"(s)允许 . 匹配换行符",value:"s"},{desc:"(u)使用 unicode 码的模式进行匹配",value:"u"},{desc:"(y)匹配从目标字符串的当前位置开始",value:"y"}]);xe(()=>v.editedPluginValue,I=>{var M;if(p.curEditedMode=="add"){y.value.id=I.id;return}Object.keys(I).length===0&&console.log("对象没有自身属性"),y.value=I,_.value=I.message,(M=I.message)==null||M.forEach((G,pe)=>{G.type=="text"&&(m["index"+pe]=G.data)})},{immediate:!0});const A=I=>{console.log(I),i.value=I.url,a.value=!0},P=(I,M)=>{console.log(I),console.log(M),_.value[r.curMsgIndex].url="file://"+I.data},b=I=>r.curType=="image"&&!I.type.includes("image/")?(ae.error("确保上传的是图片!"),!1):r.curType=="record"&&!I.type.includes("audio/")?(ae.error("确保上传的音频!"),!1):r.curType=="video"&&!I.type.includes("video/")?(ae.error("确保上传的是视频!"),!1):I.size/1024/1024>100?(ae.error("File size can not exceed 100MB!"),!1):!0,E=async(I,M)=>{a.value=!0;let G=await Vt();if(G.code==200){let pe=G.data.replace(/^file:\/\//,"");r.path=pe+"data/micro-plugin/plugins/"+(y.value.id?y.value.id:p.curPluginId),r.curType=M,r.curMsgIndex=I}},z=()=>{c.value.submit(),a.value=!1},F=async(I,M)=>{let G;if(!I){let pe=await Vt();pe.code==200&&(d.value=[{value:pe.data},{value:"http://"},{value:"https://"}])}G=d.value,M(G)},J=()=>{y.value.groups.push(h.value),h.value=""},Z=I=>{y.value.groups.splice(I,1)},he=()=>{y.value.friends.push(k.value),k.value=""},De=I=>{y.value.friends.splice(I,1)},Fe=async(I,M)=>{U.value=I,p.scene=2},Te=async()=>{if(p.curEditedMode=="update"){const I=_.value[U.value];if(I.hash&&!I.json){let M=await al(y.value.id,I.hash);M.code==200&&l.updateContainer(JSON.parse(M.data))}else I.hash&&I.json&&l.updateContainer(JSON.parse(I.json))}},Q=()=>{p.scene=0,p.isPluginEdited=!1},Qt=async()=>{y.value.message=_.value;let I;if(p.curEditedMode=="add")I=await sl(y.value),ae.success("添加成功！");else{if(y.value.id==""){ae.error("当前的插件id未知，无法保存！");return}I=await rl(y.value.id,y.value),ae.success("修改成功！")}console.log(I),I.code==200&&(f("savePlugin",I.data),p.scene=0,p.isPluginEdited=!1)},Xt=(I,M)=>{_.value[M].data=I},Kt=I=>{_.value[U.value].data=I.data,_.value[U.value].hash=I.hash,I.json&&(_.value[U.value].json=I.json)},Zt=async(I,M)=>{M.data=I,M.hash=await Jt(I),ae.success("保存代码段成功，可点击此页顶端保存按钮保存插件~")},el=async()=>{if(p.curEditedMode=="update"&&_.value.find(I=>I.type=="button"||I.type=="markdown"||I.type=="code")){let I=await ul(Object.assign(y.value,{message:_.value}));I.code==200&&(y.value=I.data,_.value=I.data.message)}},tl=I=>{if(I.type=="text"){if(_.value.find(M=>M.type=="record"||M.type=="video")){ae.warning("无法在同一条消息中存在文本和该类型！");return}_.value.push({type:"text",data:""})}else if(I.type=="image"){if(_.value.find(M=>M.type=="record"||M.type=="video")){ae.warning("无法在同一条消息中存在图片和该类型！");return}_.value.push({type:"image",url:"",data:"",hash:""})}else if(I.type=="face"){if(_.value.find(M=>M.type=="record"||M.type=="video")){ae.warning("无法在同一条消息中存在表情和该类型！");return}_.value.push({type:"face",data:0})}else if(I.type=="markdown"){if(_.value.some(M=>M.type!=="button")){ae.warning("同一条消息中仅可存在该类型和按钮！");return}_.value.push(I)}else{if(_.value.length>0){ae.warning("已添加的消息类型无法和其它消息类型共存！");return}_.value.push(I)}},de=I=>{_.value.splice(I,1)};return me(()=>{el()}),(I,M)=>{const G=w("el-button"),pe=w("el-card"),$e=w("el-input"),ee=w("el-form-item"),vt=w("el-tooltip"),gt=w("el-option"),ht=w("el-select"),et=w("el-switch"),_t=w("arrow-down"),se=w("el-icon"),bt=w("CircleCloseFilled"),yt=w("el-dropdown-item"),wt=w("el-dropdown-menu"),xt=w("el-dropdown"),kt=w("el-form"),tt=w("el-autocomplete"),ll=w("CircleCheck"),fe=w("CloseBold"),_e=w("el-image"),qe=w("el-input-number"),Be=w("el-popover"),nl=w("el-upload"),ol=w("el-dialog");return g(),$("div",za,[dt(x("div",Ua,[o(pe,null,{default:s(()=>[o(G,{onClick:Q},{default:s(()=>[...M[12]||(M[12]=[V("返回",-1)])]),_:1}),o(G,{onClick:Qt},{default:s(()=>[...M[13]||(M[13]=[V("保存",-1)])]),_:1})]),_:1}),o(pe,{style:{margin:"10px 0"}},{default:s(()=>[M[14]||(M[14]=x("div",{class:"sub-title"},"触发规则",-1)),o(kt,{"label-width":"84px"},{default:s(()=>[o(ee,{label:"事件类型"},{default:s(()=>[o($e,{modelValue:y.value.event,"onUpdate:modelValue":M[0]||(M[0]=C=>y.value.event=C),placeholder:"目前暂支持message",disabled:"",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),o(ee,{label:"定时任务"},{default:s(()=>[o(vt,{class:"box-item",effect:"dark",content:"必须关闭全局触发，会将消息推送到白名单群或用户，且消息段无法使用e变量，填了需重启机器人生效",placement:"bottom-start"},{default:s(()=>[o($e,{modelValue:y.value.cron,"onUpdate:modelValue":M[1]||(M[1]=C=>y.value.cron=C),placeholder:"cron表达式，如：0 0 0 * * ?",disabled:y.value.isGlobal==!0,style:{width:"100%"}},null,8,["modelValue","disabled"])]),_:1})]),_:1}),o(ee,{label:"正则表达式"},{default:s(()=>[o($e,{modelValue:y.value.reg,"onUpdate:modelValue":M[2]||(M[2]=C=>y.value.reg=C),placeholder:"^hello",style:{width:"auto"}},null,8,["modelValue"]),o(ht,{modelValue:y.value.flag,"onUpdate:modelValue":M[3]||(M[3]=C=>y.value.flag=C),placeholder:"默认Flags",style:{width:"200px",margin:"0 5px"}},{default:s(()=>[(g(!0),$(B,null,Y(H.value,(C,O)=>(g(),q(gt,{key:O,label:C.desc,value:C.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(ee,{label:"延迟"},{default:s(()=>[o($e,{modelValue:y.value.delayTime,"onUpdate:modelValue":M[4]||(M[4]=C=>y.value.delayTime=C),placeholder:"如果设置了多个相同指令插件，那么将会按照该时间顺序延迟执行（单位：毫秒）",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),o(ee,{label:"@回复"},{default:s(()=>[o(et,{modelValue:y.value.isAt,"onUpdate:modelValue":M[5]||(M[5]=C=>y.value.isAt=C),class:"ml-2","inline-prompt":"",style:{"--el-switch-on-color":"#13ce66"},"active-text":"Y","inactive-text":"N"},null,8,["modelValue"])]),_:1}),o(ee,{label:"引用回复"},{default:s(()=>[o(et,{modelValue:y.value.isQuote,"onUpdate:modelValue":M[6]||(M[6]=C=>y.value.isQuote=C),class:"ml-2","inline-prompt":"",style:{"--el-switch-on-color":"#13ce66"},"active-text":"Y","inactive-text":"N"},null,8,["modelValue"])]),_:1}),o(ee,{label:"全局触发"},{default:s(()=>[o(et,{modelValue:y.value.isGlobal,"onUpdate:modelValue":M[7]||(M[7]=C=>y.value.isGlobal=C),class:"ml-2","inline-prompt":"",style:{"--el-switch-on-color":"#13ce66"},"active-text":"Y","inactive-text":"N"},null,8,["modelValue"])]),_:1}),o(ee,{label:y.value.isGlobal?"黑名单群":"白名单群"},{default:s(()=>[o($e,{modelValue:h.value,"onUpdate:modelValue":M[8]||(M[8]=C=>h.value=C),placeholder:"群号",style:{width:"100px"}},null,8,["modelValue"]),o(G,{icon:"Plus",onClick:J,style:{"margin-left":"10px"}}),y.value.groups.length>0?(g(),q(xt,{key:0,"max-height":"200px",style:{"margin-left":"10px"}},{dropdown:s(()=>[o(wt,null,{default:s(()=>[(g(!0),$(B,null,Y(y.value.groups,(C,O)=>(g(),q(yt,{key:O},{default:s(()=>[V(ne(C)+" ",1),o(se,{class:"el-icon--right",onClick:T=>Z(O)},{default:s(()=>[o(bt)]),_:1},8,["onClick"])]),_:2},1024))),128))]),_:1})]),default:s(()=>[o(G,null,{default:s(()=>[o(se,null,{default:s(()=>[o(_t)]),_:1})]),_:1})]),_:1})):N("",!0)]),_:1},8,["label"]),o(ee,{label:y.value.isGlobal?"黑名单用户":"白名单用户"},{default:s(()=>[o($e,{modelValue:k.value,"onUpdate:modelValue":M[9]||(M[9]=C=>k.value=C),placeholder:"好友",style:{width:"100px"}},null,8,["modelValue"]),o(G,{icon:"Plus",onClick:he,style:{"margin-left":"10px"}}),y.value.friends.length>0?(g(),q(xt,{key:0,"max-height":"200px",style:{"margin-left":"10px"}},{dropdown:s(()=>[o(wt,null,{default:s(()=>[(g(!0),$(B,null,Y(y.value.friends,(C,O)=>(g(),q(yt,{key:O},{default:s(()=>[V(ne(C)+" ",1),o(se,{class:"el-icon--right",onClick:T=>De(O)},{default:s(()=>[o(bt)]),_:1},8,["onClick"])]),_:2},1024))),128))]),_:1})]),default:s(()=>[o(G,null,{default:s(()=>[o(se,null,{default:s(()=>[o(_t)]),_:1})]),_:1})]),_:1})):N("",!0)]),_:1},8,["label"])]),_:1})]),_:1}),o(pe,{style:{margin:"10px 0"}},{default:s(()=>[x("div",Ea,[o(vt,{class:"box-item",effect:"dark",content:"注意：该卡片内的所有消息均为同一条消息，这意味这你可以同时添加文字和多张图片，但是受平台限制音视频需要单独发送！",placement:"top-start"},{default:s(()=>[...M[15]||(M[15]=[x("div",{class:"sub-title"},"消息段",-1)])]),_:1}),o(ht,{onChange:tl,placeholder:"添加消息",style:{width:"150px",margin:"0 5px"}},{default:s(()=>[(g(!0),$(B,null,Y(R.value,(C,O)=>(g(),q(gt,{key:O,label:C.type,value:C.default},null,8,["label","value"]))),128))]),_:1})]),o(kt,{style:{"margin-bottom":"100px"}},{default:s(()=>[(g(!0),$(B,null,Y(_.value,(C,O)=>(g(),$("div",{key:O},[C.type=="text"?(g(),q(ee,{key:0,label:"文本"},{default:s(()=>[x("div",Ia,[o(va,{width:"100%",cusInputValue:m["index"+O],onInnerText:T=>Xt(T,O)},null,8,["cusInputValue","onInnerText"]),o(G,{style:{"margin-left":"10px"},onClick:T=>de(O),icon:"CloseBold"},null,8,["onClick"])])]),_:2},1024)):N("",!0),C.type=="image"?(g(),q(ee,{key:1,label:"图片"},{default:s(()=>[x("div",Ra,[o(tt,{modelValue:C.url,"onUpdate:modelValue":T=>C.url=T,"fetch-suggestions":F,clearable:"",disabled:C.hash!="",placeholder:"http://或https://或file://"},null,8,["modelValue","onUpdate:modelValue","disabled"]),o(G,{style:{"margin-left":"10px"},onClick:T=>E(O,C.type),disabled:C.url!=""||C.hash!=""},{default:s(()=>[...M[16]||(M[16]=[V(" 上传图片 ",-1)])]),_:1},8,["onClick","disabled"]),o(G,{style:{"margin-left":"10px"},onClick:T=>Fe(O,C),disabled:C.url!=""},{default:s(()=>[C.hash?(g(),q(se,{key:0},{default:s(()=>[o(ll,{color:"rgb(103,158,255)"})]),_:1})):(g(),$("span",Ha,"在线制作"))]),_:2},1032,["onClick","disabled"]),o(G,{style:{"margin-left":"10px"},onClick:T=>de(O)},{default:s(()=>[o(se,null,{default:s(()=>[o(fe)]),_:1})]),_:1},8,["onClick"])])]),_:2},1024)):N("",!0),C.type=="record"?(g(),q(ee,{key:2,label:"音频"},{default:s(()=>[x("div",La,[o(tt,{modelValue:C.url,"onUpdate:modelValue":T=>C.url=T,"fetch-suggestions":F,clearable:"",placeholder:"http://或https://或file://"},null,8,["modelValue","onUpdate:modelValue"]),o(G,{style:{"margin-left":"10px"},onClick:T=>E(O,C.type),disabled:C.url!=""},{default:s(()=>[...M[17]||(M[17]=[V(" 上传音频 ",-1)])]),_:1},8,["onClick","disabled"]),o(G,{style:{"margin-left":"10px"},onClick:T=>de(O)},{default:s(()=>[o(se,null,{default:s(()=>[o(fe)]),_:1})]),_:1},8,["onClick"])])]),_:2},1024)):N("",!0),(C==null?void 0:C.type)=="video"?(g(),q(ee,{key:3,label:"视频"},{default:s(()=>[x("div",Da,[o(tt,{modelValue:C.url,"onUpdate:modelValue":T=>C.url=T,"fetch-suggestions":F,clearable:"",placeholder:"http://或https://或file://"},null,8,["modelValue","onUpdate:modelValue"]),o(G,{style:{"margin-left":"10px"},onClick:T=>E(O,C.type),disabled:C.url!=""},{default:s(()=>[...M[18]||(M[18]=[V(" 上传视频 ",-1)])]),_:1},8,["onClick","disabled"]),o(G,{style:{"margin-left":"10px"},onClick:T=>de(O)},{default:s(()=>[o(se,null,{default:s(()=>[o(fe)]),_:1})]),_:1},8,["onClick"])])]),_:2},1024)):N("",!0),(C==null?void 0:C.type)=="face"?(g(),q(ee,{key:4,label:"表情"},{default:s(()=>[x("div",Fa,[o(Be,{placement:"top-start",title:"QQFaces",width:300,trigger:"hover"},{reference:s(()=>[o(qe,{modelValue:C.data,"onUpdate:modelValue":T=>C.data=T},null,8,["modelValue","onUpdate:modelValue"])]),default:s(()=>[x("div",Ta,[(g(!0),$(B,null,Y(S(Il),T=>(g(),q(_e,{class:"face-image",key:T.QSid,src:`/qfaces/s${T.QSid}.gif`,onClick:Se=>(C.data=Number(T.QSid),_.value[O].path=`/qfaces/s${T.QSid}.gif`)},null,8,["src","onClick"]))),128))])]),_:2},1024),_.value[O].path?(g(),q(G,{key:0},{default:s(()=>[(g(),q(_e,{class:"face-image",key:O,src:_.value[O].path,style:{width:"30px",height:"30px"}},null,8,["src"]))]),_:2},1024)):N("",!0),o(G,{style:{"margin-left":"10px"},onClick:T=>de(O)},{default:s(()=>[o(se,null,{default:s(()=>[o(fe)]),_:1})]),_:1},8,["onClick"])])]),_:2},1024)):N("",!0),(C==null?void 0:C.type)=="poke"?(g(),q(ee,{key:5,label:"戳一戳"},{default:s(()=>[x("div",qa,[o(Be,{placement:"top-start",title:"戳一戳类型",width:220,trigger:"hover"},{reference:s(()=>[o(qe,{modelValue:C.data,"onUpdate:modelValue":T=>C.data=T,min:0,max:6},null,8,["modelValue","onUpdate:modelValue"])]),default:s(()=>[x("div",Ba,[(g(),$(B,null,Y(6,(T,Se)=>o(_e,{class:"face-image",key:Se,src:`/qpoke/${T}.gif`,style:{width:"50px",height:"50px"},onClick:Ct=>(C.data=Number(T),_.value[O].path=`/qpoke/${T}.gif`)},null,8,["src","onClick"])),64))])]),_:2},1024),_.value[O].path?(g(),q(G,{key:0},{default:s(()=>[(g(),q(_e,{class:"face-image",key:O,src:_.value[O].path,style:{width:"30px",height:"30px"}},null,8,["src"]))]),_:2},1024)):N("",!0),o(G,{style:{"margin-left":"10px"},onClick:T=>de(O)},{default:s(()=>[o(se,null,{default:s(()=>[o(fe)]),_:1})]),_:1},8,["onClick"])])]),_:2},1024)):N("",!0),(C==null?void 0:C.type)=="dice"?(g(),q(ee,{key:6,label:"骰子"},{default:s(()=>[x("div",Aa,[o(Be,{placement:"top-start",title:"骰子(协议端不一定可用)",width:220,trigger:"hover"},{reference:s(()=>[o(qe,{modelValue:C.data,"onUpdate:modelValue":T=>C.data=T,min:0,max:6},null,8,["modelValue","onUpdate:modelValue"])]),default:s(()=>[x("div",Pa,[(g(),$(B,null,Y(6,(T,Se)=>o(_e,{class:"face-image",key:Se,src:`/dice/${T}.png`,style:{width:"50px",height:"50px"},onClick:Ct=>(C.data=Number(T),_.value[O].path=`/dice/${T}.png`)},null,8,["src","onClick"])),64))])]),_:2},1024),_.value[O].path?(g(),q(G,{key:0},{default:s(()=>[(g(),q(_e,{class:"face-image",key:O,src:_.value[O].path,style:{width:"30px",height:"30px"}},null,8,["src"]))]),_:2},1024)):N("",!0),o(G,{style:{"margin-left":"10px"},onClick:T=>de(O)},{default:s(()=>[o(se,null,{default:s(()=>[o(fe)]),_:1})]),_:1},8,["onClick"])])]),_:2},1024)):N("",!0),(C==null?void 0:C.type)=="rps"?(g(),q(ee,{key:7,label:"猜拳"},{default:s(()=>[x("div",Oa,[o(Be,{placement:"top-start",title:"猜拳(协议端不一定可用)",width:220,trigger:"hover"},{reference:s(()=>[o(qe,{modelValue:C.data,"onUpdate:modelValue":T=>C.data=T,min:0,max:6},null,8,["modelValue","onUpdate:modelValue"])]),default:s(()=>[x("div",ja,[(g(),$(B,null,Y(3,(T,Se)=>o(_e,{class:"face-image",key:Se,src:`/rps/${T}.png`,style:{width:"50px",height:"50px"},onClick:Ct=>(C.data=Number(T),_.value[O].path=`/rps/${T}.png`)},null,8,["src","onClick"])),64))])]),_:2},1024),_.value[O].path?(g(),q(G,{key:0},{default:s(()=>[(g(),q(_e,{class:"face-image",key:O,src:_.value[O].path,style:{width:"30px",height:"30px"}},null,8,["src"]))]),_:2},1024)):N("",!0),o(G,{style:{"margin-left":"10px"},onClick:T=>de(O)},{default:s(()=>[o(se,null,{default:s(()=>[o(fe)]),_:1})]),_:1},8,["onClick"])])]),_:2},1024)):N("",!0),(C==null?void 0:C.type)=="markdown"?(g(),q(ee,{key:8},{default:s(()=>[x("div",Na,[M[19]||(M[19]=V("Markdown ",-1)),o(G,{style:{"margin-left":"10px"},size:"small",onClick:T=>de(O)},{default:s(()=>[o(se,null,{default:s(()=>[o(fe)]),_:1})]),_:1},8,["onClick"])]),x("div",Ga,[o(Sa,{"md-content":C.content},null,8,["md-content"])])]),_:2},1024)):N("",!0),(C==null?void 0:C.type)=="button"?(g(),q(ee,{key:9},{default:s(()=>[x("div",Ya,[M[20]||(M[20]=V("按钮(icqq) ",-1)),o(G,{style:{"margin-left":"10px"},size:"small",onClick:T=>de(O)},{default:s(()=>[o(se,null,{default:s(()=>[o(fe)]),_:1})]),_:1},8,["onClick"])]),x("div",Wa,[o(xa,{"btn-content":C.content,"onUpdate:btnContent":T=>C.content=T},null,8,["btn-content","onUpdate:btnContent"])])]),_:2},1024)):N("",!0),(C==null?void 0:C.type)=="code"?(g(),q(ee,{key:10},{default:s(()=>[x("div",Ja,[M[21]||(M[21]=V("自定义代码 ",-1)),o(G,{style:{"margin-left":"10px"},size:"small",onClick:T=>de(O)},{default:s(()=>[o(se,null,{default:s(()=>[o(fe)]),_:1})]),_:1},8,["onClick"])]),o(Dt,{code:C.data,ext:"js",onGetCode:T=>Zt(T,C)},null,8,["code","onGetCode"])]),_:2},1024)):N("",!0)]))),128))]),_:1})]),_:1})],512),[[ct,S(p).scene==1]]),o(ol,{modelValue:a.value,"onUpdate:modelValue":M[11]||(M[11]=C=>a.value=C),title:"请上传文件！"},{footer:s(()=>[o(G,{type:"primary",size:"default",onClick:z},{default:s(()=>[...M[23]||(M[23]=[V(" 确认提交 ",-1)])]),_:1})]),default:s(()=>[o(nl,{class:"file_uploader",action:"/api/fs/upload",multiple:"",ref_key:"uploadRef",ref:c,"file-list":u.value,"onUpdate:fileList":M[10]||(M[10]=C=>u.value=C),data:r,"show-file-list":!0,"on-preview":A,"on-success":P,"before-upload":b,"auto-upload":!1},{trigger:s(()=>[o(G,{type:"primary"},{default:s(()=>[...M[22]||(M[22]=[V("选择文件",-1)])]),_:1})]),_:1},8,["file-list","data"])]),_:1},8,["modelValue"]),S(p).scene==2?(g(),$("div",Qa,[o(ca,{onOuterHTML:Kt,onMounted:Te})])):N("",!0)])}}});const Ka=te(Xa,[["__scopeId","data-v-882f4703"]]),Za={key:0,class:"plugins_box"},es={class:"top_bar"},ts={style:{"font-size":"12px"}},ls={style:{"font-size":"12px"}},ns={key:1,class:"Plugin_editor"},os=W({__name:"index",setup(e){const t=it(),n=L([]);let l=[];const a=L({id:""}),r=L("");Ee({pageNo:1,pageSize:10}),me(()=>{u()});const u=async()=>{let m=await il();console.log(m),m.code==200&&(n.value=m.data,l=m.data)},i=()=>{t.isPluginEdited=!0,t.scene=1,t.curEditedMode="add",a.value.id=Rl(),t.curPluginId=a.value.id},c=async m=>{t.isPluginEdited=!0,t.scene=1,t.curEditedMode="update",a.value=n.value[m]},p=m=>{n.value=m,l=m},f=async m=>{let d=await dl(m);console.log(d),d.code==200&&(n.value=d.data,l=d.data)},v=()=>{n.value=l.filter(m=>m.reg.includes(r.value))};return(m,d)=>{const h=w("el-button"),k=w("el-input"),U=w("el-popover"),_=w("el-table-column"),y=w("el-popconfirm"),R=w("el-table"),H=w("el-card");return g(),$(B,null,[S(t).scene==0?(g(),$("div",Za,[o(H,null,{default:s(()=>[x("div",es,[d[2]||(d[2]=x("div",{class:"sub-title"},"指令列表",-1)),o(U,{placement:"bottom",width:300,trigger:"hover"},{reference:s(()=>[o(h,{icon:"Search",circle:"",style:{"margin-left":"auto"}})]),default:s(()=>[o(k,{modelValue:r.value,"onUpdate:modelValue":d[0]||(d[0]=A=>r.value=A),placeholder:"筛选指令",size:"small",onInput:v},{append:s(()=>[o(h,{icon:"Search",onClick:v})]),_:1},8,["modelValue"])]),_:1}),o(h,{type:"primary",icon:"Plus",onClick:i},{default:s(()=>[...d[1]||(d[1]=[V(" 添加指令 ",-1)])]),_:1})]),o(R,{data:n.value},{default:s(()=>[o(_,{type:"index",label:"#"}),o(_,{label:"指令"},{default:s(({row:A,$index:P})=>[V(ne(A.reg),1)]),_:1}),o(_,{label:"消息类型"},{default:s(({row:A,$index:P})=>[x("span",ts,"["+ne(A.message.map(b=>b.type).join(","))+"]",1)]),_:1}),o(_,{label:"创建时间"},{default:s(({row:A,$index:P})=>[x("span",ls,ne(A.id),1)]),_:1}),o(_,{label:"操作",fixed:"right","min-width":"120px"},{default:s(({row:A,$index:P})=>[o(h,{type:"primary",size:"small",icon:"Edit",onClick:b=>c(P)},null,8,["onClick"]),o(y,{title:"删除后不可恢复，您确定吗？",onConfirm:b=>f(P)},{reference:s(()=>[o(h,{type:"primary",size:"small",icon:"Delete"})]),_:1},8,["onConfirm"])]),_:1})]),_:1},8,["data"])]),_:1})])):N("",!0),S(t).isPluginEdited?(g(),$("div",ns,[o(Ka,{editedPluginValue:a.value,onSavePlugin:p},null,8,["editedPluginValue"])])):N("",!0)],64)}}});const ps=te(os,[["__scopeId","data-v-03424357"]]);export{ps as default};

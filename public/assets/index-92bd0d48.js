import{a as A}from"./index-a813aa78.js";import{a as K,q as t,B as j,r as i,ac as J,o as _,h as C,w as r,b as c,i as o,u as s,x,c as w,F as B,g as D,m as Q,O as E,t as S,A as X,C as Y,D as Z,_ as $}from"./index-74bc2de6.js";const ee=m=>(Y("data-v-7a5605a6"),m=m(),Z(),m),le={class:"log_select"},ae=ee(()=>c("div",{class:"log_title"},[c("span",{style:{"margin-right":"10px",color:"white"}},"日志")],-1)),te={class:"select_log"},oe={class:"timestamp"},se={class:"timestamp"},ne={class:"detail"},ie=K({__name:"index",setup(m){let V=t([]),I=t([]),L=t("0"),n=t("0"),g=t(0),u=t(50),d=t(500),y=t(500),p=t(16),v=t(16);const z=t({STDOUT:"stdout",TRACE:"level-trace",DEBUG:"level-debug",INFO:"level-info",WARN:"level-warn",WARNING:"level-warn",ERROR:"level-error",ERRO:"level-error",FATAL:"level-fatal",MARK:"level-mark"});j(()=>{y.value=window.innerHeight-150,f()});const F=a=>{y.value=d.value},T=a=>{v.value=p.value},f=async a=>{console.log(L.value,a,n.value),L.value!=a&&(V.value=[],L.value=a||"0",g.value=0);let l;a=="0"||!a?l=await A("0",g.value,u.value):l=await A(a,g.value,u.value),l.code==200&&(V.value.push(...l.data.logs),I.value=l.data.logList,n.value=l.data.curLog)},U=()=>{g.value++,f(n.value)},N=a=>{f(a)},O=()=>{f(n.value)};return(a,l)=>{const k=i("el-button"),b=i("el-slider"),R=i("el-form-item"),H=i("el-form"),M=i("el-popover"),q=i("el-option"),G=i("el-select"),P=i("el-card"),W=J("infinite-scroll");return _(),C(P,{class:"log_box"},{default:r(()=>[c("div",le,[ae,c("div",te,[o(k,{class:"update_btn",size:"small",icon:"Refresh",circle:"",onClick:O,style:{"margin-right":"-5px"}}),o(M,{placement:"bottom",title:"日志设置",width:300,trigger:"click"},{reference:r(()=>[o(k,{size:"small",icon:"Setting",circle:"",style:{"margin-right":"5px"}})]),default:r(()=>[o(H,null,{default:r(()=>[o(R,{label:"窗口高度"},{default:r(()=>[o(b,{modelValue:s(d),"onUpdate:modelValue":l[0]||(l[0]=e=>x(d)?d.value=e:d=e),size:"large",min:400,max:1e3,onInput:F},null,8,["modelValue"])]),_:1}),o(R,{label:"字体大小"},{default:r(()=>[o(b,{modelValue:s(p),"onUpdate:modelValue":l[1]||(l[1]=e=>x(p)?p.value=e:p=e),size:"large",min:12,max:30,onInput:T},null,8,["modelValue"])]),_:1}),o(R,{label:"分页大小"},{default:r(()=>[o(b,{modelValue:s(u),"onUpdate:modelValue":l[2]||(l[2]=e=>x(u)?u.value=e:u=e),size:"large",min:20,max:1e3},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),o(G,{modelValue:s(n),"onUpdate:modelValue":l[3]||(l[3]=e=>x(n)?n.value=e:n=e),placeholder:"Select",size:"small",style:{width:"130px"},onChange:N},{default:r(()=>[(_(!0),w(B,null,D(s(I),(e,h)=>(_(),C(q,{key:h,label:e.replace("command.",""),value:e},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),Q((_(),w("ul",{class:"page-logs",style:E({height:`${s(y)}px`})},[(_(!0),w(B,null,D(s(V),(e,h)=>(_(),w("li",{class:"line",key:h,style:E({fontSize:`${s(v)}px`,marginTop:`${Math.round(s(v)*.2)}px`,lineHeight:`${String(Math.round(1.5*s(v)))}px`})},[c("span",oe,S(h),1),c("span",se,S(e.time),1),c("span",{class:X(z.value[e.level]?z.value[e.level]:z.value.STDOUT)}," ["+S(e.level)+"] ",3),c("span",ne,S(e.detail),1)],4))),128))],4)),[[W,U]])]),_:1})}}});const ue=$(ie,[["__scopeId","data-v-7a5605a6"]]);export{ue as default};

import{a as A}from"./index-1cd5f71e.js";import{a as P,q as t,B as W,r as i,a8 as j,o as _,h as B,w as r,b as u,i as o,u as s,x as h,c as x,F as C,g as E,m as J,K as F,t as V,A as Q,_ as X}from"./index-1781b57c.js";const Y={class:"log_select"},Z={class:"select_log"},$={class:"timestamp"},ee={class:"timestamp"},le={class:"detail"},ae=P({__name:"index",setup(te){let w=t([]),R=t([]),L=t("0"),n=t("0"),m=t(0),c=t(50),d=t(500),y=t(500),p=t(16),g=t(16);const z=t({STDOUT:"stdout",TRACE:"level-trace",DEBUG:"level-debug",INFO:"level-info",WARN:"level-warn",WARNING:"level-warn",ERROR:"level-error",ERRO:"level-error",FATAL:"level-fatal",MARK:"level-mark"});W(()=>{y.value=window.innerHeight-150,v()});const T=a=>{y.value=d.value},U=a=>{g.value=p.value},v=async a=>{console.log(L.value,a,n.value),L.value!=a&&(w.value=[],L.value=a||"0",m.value=0);let l;a=="0"||!a?l=await A("0",m.value,c.value):l=await A(a,m.value,c.value),l.code==200&&(w.value.push(...l.data.logs),R.value=l.data.logList,n.value=l.data.curLog)},D=()=>{m.value++,v(n.value)},I=a=>{v(a)},N=()=>{v(n.value)};return(a,l)=>{const k=i("el-button"),b=i("el-slider"),S=i("el-form-item"),H=i("el-form"),M=i("el-popover"),O=i("el-option"),q=i("el-select"),G=i("el-card"),K=j("infinite-scroll");return _(),B(G,{class:"log_box"},{default:r(()=>[u("div",Y,[l[4]||(l[4]=u("div",{class:"log_title"},[u("span",{style:{"margin-right":"10px",color:"white"}},"日志")],-1)),u("div",Z,[o(k,{class:"update_btn",size:"small",icon:"Refresh",circle:"",onClick:N,style:{"margin-right":"-5px"}}),o(M,{placement:"bottom",title:"日志设置",width:300,trigger:"click"},{reference:r(()=>[o(k,{size:"small",icon:"Setting",circle:"",style:{"margin-right":"5px"}})]),default:r(()=>[o(H,null,{default:r(()=>[o(S,{label:"窗口高度"},{default:r(()=>[o(b,{modelValue:s(d),"onUpdate:modelValue":l[0]||(l[0]=e=>h(d)?d.value=e:d=e),size:"large",min:400,max:1e3,onInput:T},null,8,["modelValue"])]),_:1}),o(S,{label:"字体大小"},{default:r(()=>[o(b,{modelValue:s(p),"onUpdate:modelValue":l[1]||(l[1]=e=>h(p)?p.value=e:p=e),size:"large",min:12,max:30,onInput:U},null,8,["modelValue"])]),_:1}),o(S,{label:"分页大小"},{default:r(()=>[o(b,{modelValue:s(c),"onUpdate:modelValue":l[2]||(l[2]=e=>h(c)?c.value=e:c=e),size:"large",min:20,max:1e3},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),o(q,{modelValue:s(n),"onUpdate:modelValue":l[3]||(l[3]=e=>h(n)?n.value=e:n=e),placeholder:"Select",size:"small",style:{width:"130px"},onChange:I},{default:r(()=>[(_(!0),x(C,null,E(s(R),(e,f)=>(_(),B(O,{key:f,label:e.replace("command.",""),value:e},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),J((_(),x("ul",{class:"page-logs",style:F({height:`${s(y)}px`})},[(_(!0),x(C,null,E(s(w),(e,f)=>(_(),x("li",{class:"line",key:f,style:F({fontSize:`${s(g)}px`,marginTop:`${Math.round(s(g)*.2)}px`,lineHeight:`${String(Math.round(1.5*s(g)))}px`})},[u("span",$,V(f),1),u("span",ee,V(e.time),1),u("span",{class:Q(z.value[e.level]?z.value[e.level]:z.value.STDOUT)}," ["+V(e.level)+"] ",3),u("span",le,V(e.detail),1)],4))),128))],4)),[[K,D]])]),_:1})}}});const ne=X(ae,[["__scopeId","data-v-7a5605a6"]]);export{ne as default};
